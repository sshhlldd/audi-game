var mouseX,mouseY,OS_PC="pc",OS_IPHONE="iPhone",OS_IPOD="iPod",OS_IPAD="iPad",OS_ANDROID="Android",OS_WINDOWS_PHONE="Windows Phone",OS_BLACK_BERRY="BlackBerry",NONE="none",UNDEFINED="undefined",LANDSCAPE="landscape",PORTRAIT="portrait";function LEvent(t){this.eventType=t,this._ll_preventDefault=!1}LEvent.prototype.preventDefault=function(){this._ll_preventDefault=!0},LEvent.INIT="init",LEvent.COMPLETE="complete",LEvent.ERROR="error",LEvent.PROGRESS="progress",LEvent.ENTER_FRAME="enter_frame",LEvent.WINDOW_RESIZE="resize",LEvent.WINDOW_ORIENTATIONCHANGE="orientationchange",LEvent.SOUND_COMPLETE="sound_complete",LEvent.END_CONTACT="endContact",LEvent.PRE_SOLVE="preSolve",LEvent.POST_SOLVE="postSolve",LEvent.BEGIN_CONTACT="beginContact",LEvent.addEventListener=function(t,e,n,i){null==i&&(i=!1),t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n]()},t.attachEvent("on"+e,t[e+n]))},LEvent.removeEventListener=function(t,e,n,i){null==i&&(i=!1),t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n]()},t.detachEvent("on"+e,t[e+n]))};var LMouseEvent=function(){throw"LMouseEvent cannot be instantiated"};LMouseEvent.MOUSE_DOWN="mousedown",LMouseEvent.MOUSE_UP="mouseup",LMouseEvent.TOUCH_START="touchstart",LMouseEvent.TOUCH_MOVE="touchmove",LMouseEvent.TOUCH_END="touchend",LMouseEvent.MOUSE_MOVE="mousemove",LMouseEvent.MOUSE_OVER="mouseover",LMouseEvent.MOUSE_OUT="mouseout",LMouseEvent.DOUBLE_CLICK="dblclick";var LMultitouchInputMode=function(){throw"LMultitouchInputMode cannot be instantiated"};LMultitouchInputMode.NONE="none",LMultitouchInputMode.GESTURE="gesture",LMultitouchInputMode.TOUCH_POINT="touchPoint";var LMultitouch=function(){throw"LMultitouch cannot be instantiated"};LMultitouch.inputMode="none",LMultitouch.touchs=[];var LTimerEvent=function(){throw"LTimerEvent cannot be instantiated"};LTimerEvent.TIMER="timer",LTimerEvent.TIMER_COMPLETE="timerComplete";var LTextEvent=function(){throw"LTextEvent cannot be instantiated"};LTextEvent.TEXT_INPUT="textInput",LTextEvent.WIND_COMPLETE="windComplete";var LFocusEvent=function(){throw"LFocusEvent cannot be instantiated"};LFocusEvent.FOCUS_IN="focusIn",LFocusEvent.FOCUS_OUT="focusOut";var LMouseEventContainer=function(){function t(){var t=this;t.container={},t.dispatchAllEvent=!1,t.mouseDownContainer=[],t.mouseUpContainer=[],t.mouseMoveContainer=[],t.mouseOverContainer=[],t.mouseOutContainer=[],t.mouseDblContainer=[],t.textFieldInputContainer=[],t.buttonContainer=[]}t.prototype={pushInputBox:function(t){var e,n,i=this.textFieldInputContainer;for(e=0,n=i.length;e<n;e++)if(t.objectIndex==i[e].objectIndex)return;this.textFieldInputContainer.push(t)},removeInputBox:function(t){var e,n,i=this.textFieldInputContainer;for(e=0,n=i.length;e<n;e++)if(t.objectIndex==i[e].objectIndex){this.textFieldInputContainer.splice(e,1);break}},pushButton:function(t){var e,n,i=this.buttonContainer;for(e=0,n=i.length;e<n;e++)if(t.objectIndex==i[e].objectIndex)return;this.buttonContainer.push(t)},removeButton:function(t){var e,n,i=this.buttonContainer;for(e=0,n=i.length;e<n;e++)if(t.objectIndex==i[e].objectIndex){this.buttonContainer.splice(e,1);break}},dispatchEventButton:function(t){var e,n,i=this;for(e=0,n=i.buttonContainer.length;e<n;e++)"function"==typeof i.buttonContainer[e].ll_button_mode&&i.buttonContainer[e].ll_button_mode(t)},addEvent:function(t,e,n){e.push({container:t,listener:n})},removeEvent:function(t,e,n){var i,a;for(i=0,a=e.length;i<a;i++)if(e[i].container.objectIndex===t.objectIndex&&(!n||e[i].listener==n)){e.splice(i,1);break}},addMouseDownEvent:function(t,e){this.addEvent(t,this.mouseDownContainer,e)},addMouseUpEvent:function(t,e){this.addEvent(t,this.mouseUpContainer,e)},addMouseMoveEvent:function(t,e){this.addEvent(t,this.mouseMoveContainer,e)},addMouseOverEvent:function(t,e){this.addEvent(t,this.mouseOverContainer,e)},addMouseOutEvent:function(t,e){this.addEvent(t,this.mouseOutContainer,e)},addMouseDblEvent:function(t,e){this.addEvent(t,this.mouseDblContainer,e)},addMouseEvent:function(t,e,n){var i=this;e==LMouseEvent.MOUSE_DOWN?i.addMouseDownEvent(t,n):e==LMouseEvent.MOUSE_UP?i.addMouseUpEvent(t,n):e==LMouseEvent.MOUSE_OVER?i.addMouseOverEvent(t,n):e==LMouseEvent.MOUSE_OUT?i.addMouseOutEvent(t,n):e==LMouseEvent.MOUSE_MOVE?i.addMouseMoveEvent(t,n):i.addMouseDblEvent(t,n)},hasEventListener:function(t,e,n){for(var i,a=this,o=0,r=(i=e==LMouseEvent.MOUSE_DOWN?a.mouseDownContainer:e==LMouseEvent.MOUSE_UP?a.mouseUpContainer:e==LMouseEvent.MOUSE_OVER?a.mouseOverContainer:e==LMouseEvent.MOUSE_OUT?a.mouseOutContainer:e==LMouseEvent.MOUSE_MOVE?a.mouseMoveContainer:a.mouseDblContainer).length;o<r;o++)if(i[o].container.objectIndex===t.objectIndex&&(!n||i[o].listener==n))return!0;return!1},removeMouseDownEvent:function(t,e){this.removeEvent(t,this.mouseDownContainer,e)},removeMouseUpEvent:function(t,e){this.removeEvent(t,this.mouseUpContainer,e)},removeMouseMoveEvent:function(t,e){this.removeEvent(t,this.mouseMoveContainer,e)},removeMouseOverEvent:function(t,e){this.removeEvent(t,this.mouseOverContainer,e)},removeMouseOutEvent:function(t,e){this.removeEvent(t,this.mouseOutContainer,e)},removeMouseDblEvent:function(t,e){this.removeEvent(t,this.mouseDblContainer,e)},removeMouseEvent:function(t,e,n){var i=this;e==LMouseEvent.MOUSE_DOWN?i.removeMouseDownEvent(t,n):e==LMouseEvent.MOUSE_UP?i.removeMouseUpEvent(t,n):e==LMouseEvent.MOUSE_OVER?i.removeMouseOverEvent(t,n):e==LMouseEvent.MOUSE_OUT?i.removeMouseOutEvent(t,n):e==LMouseEvent.MOUSE_MOVE?i.removeMouseMoveEvent(t,n):i.removeMouseDblEvent(t,n)},dispatchMouseEvent:function(t,e){var n=this;e==LMouseEvent.MOUSE_DOWN?(n.dispatchEvent(t,n.mouseDownContainer,LMouseEvent.MOUSE_DOWN),n.dispatchEvent(t,n.textFieldInputContainer)):e==LMouseEvent.MOUSE_UP?n.dispatchEvent(t,n.mouseUpContainer,LMouseEvent.MOUSE_UP):e==LMouseEvent.DOUBLE_CLICK?n.dispatchEvent(t,n.mouseDblContainer,LMouseEvent.DOUBLE_CLICK):(n.dispatchEventButton(t),n.dispatchEvent(t,n.mouseOutContainer,LMouseEvent.MOUSE_OUT),n.dispatchEvent(t,n.mouseOverContainer,LMouseEvent.MOUSE_OVER),n.dispatchEvent(t,n.mouseMoveContainer,LMouseEvent.MOUSE_MOVE))},getRootParams:function(t){for(var e=t.parent,n={x:0,y:0,scaleX:1,scaleY:1};e&&"root"!=e;)n.x*=e.scaleX,n.y*=e.scaleY,n.x+=e.x,n.y+=e.y,n.scaleX*=e.scaleX,n.scaleY*=e.scaleY,e=e.parent;return n},_mouseEnabled:function(t){if(!t||!t.parent)return!1;if(!t.visible||typeof t.mouseEnabled!=UNDEFINED&&!t.mouseEnabled)return!1;for(var e=t.parent;e&&"root"!=e;){if(!e.mouseEnabled||!e.mouseChildren||!e.visible)return!1;if(!(e=e.parent))return!1}return!0},_dispatchEvent:function(t,e,n,i,a,r){var s,l=n.length;for(s=a;s<=r&&s<l;s++)o=n[s],o.sp.objectIndex==i&&(t.currentTarget=t.clickTarget=o.sp,t.target||(t.target=o.sp),t.event_type=e,t.selfX=(t.offsetX-o.co.x-o.sp.x)/(o.co.scaleX*o.sp.scaleX),t.selfY=(t.offsetY-o.co.y-o.sp.y)/(o.co.scaleY*o.sp.scaleY),o.listener(t,o.sp))},dispatchEvent:function(t,e,n){var i,a,o,r,s,l=this,u=[];for(r=0,s=e.length;r<s;r++)if(i=e[r].container||e[r],l._mouseEnabled(i))if(a=l.getRootParams(i),n||!i.mouseEvent)if(i.ismouseon(t,a)){if(n==LMouseEvent.MOUSE_OUT)continue;if(n==LMouseEvent.MOUSE_OVER&&i.ll_mousein)continue;n!=LMouseEvent.MOUSE_UP&&(i.ll_mousein=!0),u.push({sp:i,co:a,listener:e[r].listener})}else{if(n!=LMouseEvent.MOUSE_OUT&&n!=LMouseEvent.MOUSE_OVER)continue;if(!i.ll_mousein)continue;i.ll_mousein=!1,u.push({sp:i,co:a,listener:e[r].listener})}else i.mouseEvent(t,LMouseEvent.MOUSE_DOWN,a);if(0!=u.length)for(1<u.length&&(u=u.sort(l._sort.bind(l))),s=u.length,r=0;r<s;r++)if(o=u[r],l._dispatchEvent(t,n,u,o.sp.objectIndex,r,l.dispatchAllEvent?s-1:r),r<u.length-1&&o.sp.objectIndex==u[r+1].sp.objectIndex)u.splice(r,1),r--;else{for(var c;c||(c=o.sp.parent,t.target=o.sp),c&&"root"!=c&&(l._dispatchEvent(t,n,u,c.objectIndex,r+1,s),(c=(t.target=c).parent)&&"root"!=c););if(!l.dispatchAllEvent)break}},set:function(t,e){this.container[t]=e},_sort:function(t,e){var n,i,a,o,r,s=this._getSort(t.sp),l=this._getSort(e.sp);for(a=0,o=s.length,r=l.length;a<o&&a<r;a++)if(n=s[a],i=l[a],n.objectIndex!=i.objectIndex)return i.parent.getChildIndex(i)-n.parent.getChildIndex(n);return l.length-s.length},_getSort:function(t){for(var e=t.parent,n=[t];e&&"root"!=e;)n.unshift(e),e=e.parent;return n}};var e=new t;return e.set(LMouseEvent.MOUSE_DOWN,!0),e.set(LMouseEvent.MOUSE_UP,!0),e.set(LMouseEvent.MOUSE_MOVE,!0),e}(),LKeyboardEvent=function(){throw"LKeyboardEvent cannot be instantiated"};LKeyboardEvent.KEY_DOWN="keydown",LKeyboardEvent.KEY_UP="keyup",LKeyboardEvent.KEY_PRESS="keypress";var LAccelerometerEvent=function(){throw"LAccelerometerEvent cannot be instantiated"};function LStageAlign(){throw"LStageAlign cannot be instantiated"}function LStageScaleMode(){throw"LStageScaleMode cannot be instantiated"}LAccelerometerEvent.DEVICEMOTION="devicemotion",LStageAlign.TOP="T",LStageAlign.BOTTOM="B",LStageAlign.LEFT="L",LStageAlign.RIGHT="Re",LStageAlign.TOP_LEFT="TL",LStageAlign.TOP_RIGHT="TR",LStageAlign.TOP_MIDDLE="TM",LStageAlign.BOTTOM_LEFT="BL",LStageAlign.BOTTOM_RIGHT="BR",LStageAlign.BOTTOM_MIDDLE="BM",LStageAlign.MIDDLE="M",LStageScaleMode.EXACT_FIT="exactFit",LStageScaleMode.SHOW_ALL="showAll",LStageScaleMode.NO_BORDER="noBorder",LStageScaleMode.NO_SCALE="noScale";var LGlobal=function(){function g(){throw"LGlobal cannot be instantiated"}return g.FULL_SCREEN="full_screen",g.traceDebug=!1,g.displayState=NONE,g.aspectRatio=NONE,g.canvasObj=null,g.canvas=null,g.webAudio=!0,g.objectIndex=1,g.stage=null,g.width=0,g.height=0,g.box2d=null,g.speed=50,g.IS_MOUSE_DOWN=!1,g.stopPropagation=!1,g.preventDefault=!0,g.childList=new Array,g.dragList=new Array,g.excludingContainer=new Array,g.fpsStatus=null,g.stageScale="noScale",g.align="M",g.mobile=!1,g.canTouch=!1,g.os=OS_PC,g.ios=!1,g.android=!1,g.android_new=!1,g.backgroundColor=null,g.destroy=!0,g.forceRefresh=!1,g.devicePixelRatio=window.devicePixelRatio||1,g.startTimer=0,g.keepClear=!0,g.top=0,g.left=0,g.window=window,function(t){if(g.isOldFirefox=function(t){var e=t.toLowerCase().indexOf("firefox");if(e<0)return!1;var n=t.substring(e+8,t.length);return parseFloat(n)<39}(t),0<t.indexOf(OS_IPHONE))g.os=OS_IPHONE,g.canTouch=!0,g.ios=!0;else if(0<t.indexOf(OS_IPOD))g.os=OS_IPOD,g.canTouch=!0,g.ios=!0;else if(0<t.indexOf(OS_IPAD))g.os=OS_IPAD,g.ios=!0,g.canTouch=!0;else if(0<t.indexOf(OS_ANDROID)){g.os=OS_ANDROID,g.canTouch=!0,g.android=!0;var e=t.indexOf(OS_ANDROID);3<parseInt(t.substr(e+8,1))&&(g.android_new=!0)}else 0<t.indexOf(OS_WINDOWS_PHONE)?(g.os=OS_WINDOWS_PHONE,g.canTouch=!0):0<t.indexOf(OS_BLACK_BERRY)&&(g.os=OS_BLACK_BERRY,g.canTouch=!0);g.mobile=g.canTouch}(navigator.userAgent),g.setDebug=function(t){g.traceDebug=t},g.setCanvas=function(t,e,n){g.ll_createCanvas(t,e,n),g.ll_createStage(),g.displayState==LStage.FULL_SCREEN?g.resize():"number"==typeof g.displayState&&g.resize(g.width*g.displayState,g.height*g.displayState),g.canTouch?(g.ll_clicks=0,g.ll_prev_clickTime=0,LEvent.addEventListener(g.canvasObj,LMouseEvent.TOUCH_START,g.ll_touchStart),LEvent.addEventListener(document,LMouseEvent.TOUCH_END,g.ll_touchEnd),LEvent.addEventListener(g.canvasObj,LMouseEvent.TOUCH_MOVE,g.ll_touchMove)):(LEvent.addEventListener(g.canvasObj,LMouseEvent.DOUBLE_CLICK,g.ll_mouseDbclick),LEvent.addEventListener(g.canvasObj,LMouseEvent.MOUSE_DOWN,g.ll_mouseDown),LEvent.addEventListener(g.canvasObj,LMouseEvent.MOUSE_MOVE,g.ll_mouseMove),LEvent.addEventListener(g.canvasObj,LMouseEvent.MOUSE_UP,g.ll_mouseUp),LEvent.addEventListener(g.canvasObj,LMouseEvent.MOUSE_OUT,g.ll_mouseOut))},g.ll_createCanvas=function(t,e,n){g.id=t,(g.object=document.getElementById(t)).innerHTML='<div style="position:absolute;margin:0;padding:0;overflow:visible;-webkit-transform:translateZ(0);z-index:0;"><canvas id="'+g.id+'_canvas" style="margin:0;padding:0;width:'+e+"px;height:"+n+'px;"><div id="noCanvas"><p>Hey there,it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5:(</p></div></canvas></div><div id="'+g.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+g.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+g.id+'_InputTextBox"  style="background:transparent;border:0px;"/><input type="password" id="'+g.id+'_passwordBox"  style="background:transparent;border:0px;"/></div>',g.canvasObj=document.getElementById(g.id+"_canvas"),g._canvas=document.createElement("canvas"),(g._context=g._canvas.getContext("2d"))&&(g.canvasObj.innerHTML=""),g.inputBox=document.getElementById(g.id+"_InputText"),g.inputTextareaBoxObj=document.getElementById(g.id+"_InputTextareaBox"),g.inputTextBoxObj=document.getElementById(g.id+"_InputTextBox"),g.passwordBoxObj=document.getElementById(g.id+"_passwordBox"),g.inputTextField=null,e&&(g.canvasObj.width=e),n&&(g.canvasObj.height=n),g.width=g.canvasObj.width,g.height=g.canvasObj.height,g.canvasStyleWidth=g.width,g.canvasStyleHeight=g.height,g.canvas=g.canvasObj.getContext("2d"),g.offsetX=mouseX=0,g.offsetY=mouseY=0},g.ll_createStage=function(){(g.stage=new LSprite).parent="root",g.childList.push(g.stage),g.stage.baseAddEvent=g.stage.addEventListener,g.stage.baseRemoveEvent=g.stage.removeEventListener,g.stage.addEventListener=function(t,e){t==LEvent.WINDOW_RESIZE||t==LEvent.WINDOW_ORIENTATIONCHANGE?(t==LEvent.WINDOW_RESIZE?g.stage.onresizeListener=e:g.stage.onorientationchangeListener=e,g.stage.onresize||(g.stage.onresize=function(t){g.stage.onresizeEvent=t},LEvent.addEventListener(g.window,t,g.stage.onresize))):t==LKeyboardEvent.KEY_DOWN||t==LKeyboardEvent.KEY_UP||t==LKeyboardEvent.KEY_PRESS?LEvent.addEventListener(g.window,t,e):g.stage.baseAddEvent(t,e)},g.stage.removeEventListener=function(t,e){if(t==LEvent.WINDOW_RESIZE||t==LEvent.WINDOW_ORIENTATIONCHANGE){if(t==LEvent.WINDOW_RESIZE){if(delete g.stage.onresizeListener,g.stage.onorientationchangeListener)return}else if(delete g.stage.onorientationchangeListener,g.stage.onresizeListener)return;LEvent.removeEventListener(g.window,LEvent.WINDOW_RESIZE,g.stage.onresize),delete g.stage.onresize}else t==LKeyboardEvent.KEY_DOWN||t==LKeyboardEvent.KEY_UP||t==LKeyboardEvent.KEY_PRESS?LEvent.removeEventListener(g.window,t,e):g.stage.baseRemoveEvent(t,e)},g.innerWidth=window.innerWidth,g.innerHeight=window.innerHeight,LEvent.addEventListener(g.window,"blur",function(){g.stage.dispatchEvent(new LEvent(LFocusEvent.FOCUS_OUT))})},g.ll_touchStart=function(t){var e,n,i;if(g._outStageCheckCount=1,g.IS_MOUSE_DOWN=!0,g.stage.dispatchEvent(new LEvent(LFocusEvent.FOCUS_IN)),g.inputBox.style.display!=NONE&&g.inputTextField._ll_getValue(),e=parseInt(0+g.object.style.left)+parseInt(g.canvasObj.style.marginLeft),n=parseInt(0+g.object.style.top)+parseInt(g.canvasObj.style.marginTop),LMultitouch.inputMode==LMultitouchInputMode.NONE)i=g.ll_touchStartEvent(t,0,e,n);else if(LMultitouch.inputMode==LMultitouchInputMode.TOUCH_POINT)for(var a=0,o=t.touches.length;a<o;a++)LMultitouch.touchs["touch"+t.touches[a].identifier]||(i=g.ll_touchStartEvent(t,a,e,n));var r=(new Date).getTime();g.ll_clicks=r<=g.ll_prev_clickTime+500?g.ll_clicks+1:1,g.ll_prev_clickTime=r,2===g.ll_clicks&&(g.mouseEvent(i,LMouseEvent.DOUBLE_CLICK),g.ll_clicks=0),g.mouseJoint_start&&g.mouseJoint_start(i),g.touchHandler(t)},g.ll_touchStartEvent=function(t,e,n,i){var a={offsetX:t.touches[e].pageX-n,offsetY:t.touches[e].pageY-i,touchPointID:t.touches[e].identifier,force:t.touches[e].force,rotationAngle:t.touches[e].rotationAngle,radiusX:t.touches[e].radiusX,radiusY:t.touches[e].radiusY};return a.offsetX=g.ll_scaleX(a.offsetX),a.offsetY=g.ll_scaleY(a.offsetY),mouseX=g.offsetX=a.offsetX,mouseY=g.offsetY=a.offsetY,LMultitouch.touchs["touch"+a.touchPointID]=a,g.mouseEvent(a,LMouseEvent.MOUSE_DOWN),g.buttonStatusEvent=a},g.ll_touchEnd=function(t){var e,n,i,a,o,r;if(g.IS_MOUSE_DOWN=!1,LMultitouch.inputMode==LMultitouchInputMode.TOUCH_POINT)for(i in LMultitouch.touchs){for(e=LMultitouch.touchs[i],r=!1,a=0,o=t.touches.length;a<o;a++)if(t.touches[a].identifier==e.touchPointID){r=!0;break}r||(n=e,delete LMultitouch.touchs[i],g.mouseEvent(n,LMouseEvent.MOUSE_UP))}n||(n={offsetX:g.offsetX,offsetY:g.offsetY}),g.mouseEvent(n,LMouseEvent.MOUSE_UP),g.touchHandler(t),g.buttonStatusEvent=null,g.mouseJoint_end&&g.mouseJoint_end(),g.stage.dispatchEvent(new LEvent(LFocusEvent.FOCUS_OUT))},g.ll_touchMove=function(t){var e,n,a,o,r=t.touches.length;for(e=parseInt(0+g.object.style.left)+parseInt(g.canvasObj.style.marginLeft),n=parseInt(0+g.object.style.top)+parseInt(g.canvasObj.style.marginTop),LMultitouch.inputMode==LMultitouchInputMode.NONE&&(r=1),i=0,o=t.touches.length;i<o&&i<r;i++)(a={offsetX:t.touches[i].pageX-e,offsetY:t.touches[i].pageY-n,touchPointID:t.touches[i].identifier}).offsetX=g.ll_scaleX(a.offsetX),a.offsetY=g.ll_scaleY(a.offsetY),mouseX=g.offsetX=a.offsetX,mouseY=g.offsetY=a.offsetY,LMultitouch.touchs["touch"+a.touchPointID]&&LMultitouch.touchs["touch"+a.touchPointID].offsetX==a.offsetX&&LMultitouch.touchs["touch"+a.touchPointID].offsetY==a.offsetY||(g.buttonStatusEvent=a,LMultitouch.touchs["touch"+a.touchPointID]=a,g._outStageCheckCount=a.offsetX<=0||a.offsetX>=g.innerWidth||a.offsetX>=g.width||a.offsetY<=0||a.offsetY>=g.innerHeight||a.offsetY>=g.height?0:1,g.mouseEvent(a,LMouseEvent.MOUSE_MOVE));g.touchHandler(t),g.mouseJoint_move&&g.mouseJoint_move(a)},g.ll_mouseDbclick=function(t){null==t.offsetX&&null!=t.layerX&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var e={button:t.button};e.offsetX=g.ll_scaleX(t.offsetX),e.offsetY=g.ll_scaleY(t.offsetY),g.mouseEvent(e,LMouseEvent.DOUBLE_CLICK)},g.ll_mouseDown=function(t){null==t.offsetX&&null!=t.layerX&&(t.offsetX=t.layerX,t.offsetY=t.layerY),g.inputBox.style.display!=NONE&&g.inputTextField._ll_getValue();var e={button:t.button};e.offsetX=g.ll_scaleX(t.offsetX),e.offsetY=g.ll_scaleY(t.offsetY),g.mouseEvent(e,LMouseEvent.MOUSE_DOWN),g.IS_MOUSE_DOWN=!0,g.mouseJoint_start&&g.mouseJoint_start(e)},g.ll_mouseMove=function(t){null==t.offsetX&&null!=t.layerX&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var e={};e.offsetX=g.ll_scaleX(t.offsetX),e.offsetY=g.ll_scaleY(t.offsetY),g.buttonStatusEvent=e,mouseX=g.offsetX=e.offsetX,mouseY=g.offsetY=e.offsetY,g.cursor="default",mouseX<=0||g.innerWidth<=mouseX||g.width<=mouseX||mouseY<=0||g.innerHeight<=mouseY||g.height<=mouseY?g._outStageCheckCount&&(g._outStageCheckCount=0,g.stage.dispatchEvent(new LEvent(LFocusEvent.FOCUS_OUT))):g._outStageCheckCount||(g._outStageCheckCount=1,g.stage.dispatchEvent(new LEvent(LFocusEvent.FOCUS_IN))),g.mouseEvent(e,LMouseEvent.MOUSE_MOVE),document.body.style.cursor=g.cursor,g.mouseJoint_move&&g.mouseJoint_move(e)},g.ll_mouseUp=function(t){null==t.offsetX&&null!=t.layerX&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var e={button:t.button};e.offsetX=g.ll_scaleX(t.offsetX),e.offsetY=g.ll_scaleY(t.offsetY),g.mouseEvent(e,LMouseEvent.MOUSE_UP),g.IS_MOUSE_DOWN=!1,g.mouseJoint_end&&g.mouseJoint_end()},g.ll_mouseOut=function(t){null==t.offsetX&&null!=t.layerX&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var e={};e.offsetX=g.ll_scaleX(t.offsetX),e.offsetY=g.ll_scaleY(t.offsetY),g.mouseEvent(e,LMouseEvent.MOUSE_OUT),g.IS_MOUSE_DOWN=!1},g.touchHandler=function(t){return g.stopPropagation&&(t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()),g.preventDefault&&t.preventDefault(),t},g.mouseEvent=function(t,e){if(e==LMouseEvent.MOUSE_MOVE&&g.dragHandler(t),LMouseEventContainer.container[e])LMouseEventContainer.dispatchMouseEvent(t,e);else for(var n=g.childList.length-1;0<=n&&(!g.childList[n].mouseEvent||!g.childList[n].mouseEvent(t,e));n--);},g.dragHandler=function(t){var e,n,i,a=g.dragList;for(e=a.length-1;0<=e;e--)if(n=a[e],!g.canTouch||n.ll_touchPointID==t.touchPointID){i=n.parent.globalToLocal(new LPoint(t.offsetX-n.ll_dragMX+n.ll_dragGlobalPoint.x,t.offsetY-n.ll_dragMY+n.ll_dragGlobalPoint.y)),n.x=i.x,n.y=i.y,n.dragRange&&(n.x<n.dragRange.left?n.x=n.dragRange.left:n.x>n.dragRange.right&&(n.x=n.dragRange.right),n.y<n.dragRange.top?n.y=n.dragRange.top:n.y>n.dragRange.bottom&&(n.y=n.dragRange.bottom));break}},g._ll_mobile=function(){var t,e,n,i,a,o,r,s=.05*g.width,l=.05*(e=.3*g.width),u=.15*e,c=.3*e,h=.2*(n=1.5*e),d="#cccccc",p="#000000",f="#ffffff",v="#ff0000";addChild(t=new LSprite),n=1.5*(e=.3*g.width),t.graphics.drawRoundRect(1,p,[s,s,e,n,s],!0,d),t.graphics.drawRoundRect(1,p,[s+l,s+l,e-2*l,n-2*l,s],!0,p),t.graphics.drawRect(1,f,[s+u,s+h,e-2*u,n-2*h],!0,f),t.graphics.drawArc(1,f,[s+.5*e,s+n-3.5*l,1.5*l,0,2*Math.PI]),t.graphics.drawRoundRect(1,f,[s+c,s+u,e-2*c,l,.5*l]),(i=new LSprite).x=.5*-(e-2*u),i.y=.5*-l,i.graphics.drawRect(1,v,[0,0,e-2*u,l],!0,v),(a=new LSprite).y=.5*-(e-2*u),a.x=.5*-l,a.graphics.drawRect(1,v,[0,0,l,e-2*u],!0,v),(o=new LSprite).x=s+c+.5*(e-2*c),o.y=s+h+.5*(n-2*h),o.rotate=45,o.addChild(i),o.addChild(a),t.addChild(o),(r=new LSprite).graphics.drawVertices(2,p,[[0,0],[u,u],[0,2*u]],!0,d),r.x=1.5*s+n,r.y=1.5*s+.5*n,addChild(r),t.arrow=r;return window.onorientationchange=function(){setTimeout(function(){location.href=location.href},100)},t},g.verticalError=function(){var t=.3*g.width,e=.05*g.width,n=g._ll_mobile(),i=n.clone();i.getChildAt(0).visible=!1,i.x=.5*g.width+e,addChild(i),n.rotate=90,n.x=.5*g.width+e,n.y=.5*t},g.horizontalError=function(){var t=.3*g.width,e=.05*g.width,n=g._ll_mobile(),i=n.clone();i.getChildAt(0).visible=!1,i.rotate=90,i.x=g.width-e,i.y=.5*t,addChild(i),n.arrow.x=1.5*e+t},g.onShow=function(){null!=g.canvas&&(g._outStageCheckCount<=0&&--g._outStageCheckCount<-2&&(g.stage.dispatchEvent(new LEvent(LFocusEvent.FOCUS_OUT)),g._outStageCheckCount=1),g.fpsStatus&&g.fpsStatus.reset(),g.stage.onresizeEvent&&(g.stage.onresizeListener&&g.stage.onresizeListener(g.stage.onresizeEvent),g.stage.onorientationchangeListener&&g.stage.onorientationchangeListener({orientation:window.innerWidth>window.innerHeight?LANDSCAPE:PORTRAIT}),delete g.stage.onresizeEvent),g.forceRefresh&&(g.canvasObj.width=g.canvasObj.width,g.forceRefresh=!1),g.canvas.beginPath(),null!=g.box2d?(g.box2d.ll_show(),!g.traceDebug&&g.keepClear&&g.canvas.clearRect(0,0,g.width+1,g.height+1)):(g.keepClear&&g.canvas.clearRect(0,0,g.width+1,g.height+1),null!==g.backgroundColor&&(g.canvas.fillStyle=g.backgroundColor,g.canvas.fillRect(0,0,g.width,g.height))),g.show(g.childList,g.canvas))},g.show=function(t,e){e=e||g.canvas;for(var n,i=0,a=t.length;i<a;i++)(n=t[i])&&n.ll_show&&(n.ll_show(e),n._ll_removeFromSelf&&(i--,a--))},g.divideCoordinate=function(t,e,n,i){var a,o,r,s=t/i,l=e/n,u=[];for(a=0;a<n;a++){for(r=[],o=0;o<i;o++)r.push({x:s*o,y:l*a,width:s,height:l});u.push(r)}return u},g._create_loading_color=function(){var t=g.canvas.createRadialGradient(g.width/2,g.height,0,g.width/2,0,g.height);return t.addColorStop(0,"red"),t.addColorStop(.3,"orange"),t.addColorStop(.4,"yellow"),t.addColorStop(.5,"green"),t.addColorStop(.8,"blue"),t.addColorStop(1,"violet"),t},g.hitPolygon=function(t,e,n){var i,a,o,r,s,l=0,u=t[0],c=e<=u[0],h=n<=u[1];for(i=1,a=t.length;i<a+1;i++)r=e<=(o=t[i%a])[0],h!=(s=n<=o[1])&&(c==r?c&&(l+=h?-1:1):e<=u[0]+(o[0]-u[0])*(n-u[1])/(o[1]-u[1])&&(l+=h?-1:1)),u=o,c=r,h=s;return 0!=l},g.hitTestPolygon=function(t,e){var n,i,a,o,r,s=[[t,[],[]],[e,[],[]]];for(i=0;i<s.length;i++){for(o=s[i][0],r=s[i][1],n=0,a=o.length;n<a;n++)s[i][2].push(new LVec2(o[n][0],o[n][1])),n<a-1&&r.push(new LVec2(o[n+1][0]-o[n][0],o[n+1][1]-o[n][1]).normL());r.push(new LVec2(o[0][0]-o[a-1][0],o[0][1]-o[a-1][1]).normL())}for(i=0;i<s.length;i++)for(n=0,a=(r=s[i][1]).length;n<a;n++){var l=LVec2.getMinMax(s[0][2],r[n]),u=LVec2.getMinMax(s[1][2],r[n]);if(l.max_o<u.min_o||l.min_o>u.max_o)return!1}return!0},g.hitTestPolygonArc=function(t,e){if(g.hitPolygon(t,e[0],e[1]))return!0;var n,i,a,o,r,s,l,u,c,h;for(n=0,a=t.length;n<a;n++)if(i=n<a-1?n+1:0,o=t[n],r=t[i],s=new LVec2(e[0]-o[0],e[1]-o[1]),h=(l=new LVec2(r[0]-o[0],r[1]-o[1])).normalize(),(c=LVec2.dot(s,h))<=0){if(s.x*s.x+s.y*s.y<e[3])return!0}else if(c*c<l.x*l.x+l.y*l.y&&(u=LVec2.cross(s,h))*u<e[3])return!0;return!1},g.hitTestArc=function(t,e,n,i){var a=.5*t.getWidth(),o=.5*e.getWidth(),r=t._startX?t._startX():t.startX(),s=e._startX?e._startX():e.startX(),l=t._startY?t._startY():t.startY(),u=e._startY?e._startY():e.startY();typeof n!=UNDEFINED&&(r+=a-n,l+=a-n,a=n),typeof i!=UNDEFINED&&(s+=o-i,u+=o-i,o=i);var c=r+a-s-o,h=l+a-u-o;return c*c+h*h<(a+o)*(a+o)},g.hitTest=g.hitTestRect=function(t,e,n,i){var a=t.getWidth(),o=e.getWidth(),r=t.getHeight(),s=e.getHeight(),l=t._startX?t._startX():t.startX(),u=e._startX?e._startX():e.startX(),c=t._startY?t._startY():t.startY(),h=e._startY?e._startY():e.startY();return typeof n!=UNDEFINED&&(l+=.5*(a-n[0]),c+=.5*(r-n[1]),a=n[0],r=n[1]),typeof i!=UNDEFINED&&(u+=.5*(o-i[0]),h+=.5*(s-i[1]),o=i[0],s=i[1]),(u<l?l:u)<=(u+o<l+a?u+o:l+a)&&(h<c?c:h)<=(h+s<c+r?h+s:c+r)},g.setFrameRate=function(t){g.frameRate&&clearInterval(g.frameRate),g.speed=t,g.frameRate=setInterval(function(){g.onShow()},t)},g.ll_scaleX=function(t){return(t-g.left)*g.width/g.canvasStyleWidth},g.ll_scaleY=function(t){return(t-g.top)*g.height/g.canvasStyleHeight},g.ll_setStageSize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),g.canvasObj.style.width=t+"px",g.canvasObj.style.height=e+"px",g.canvasStyleWidth=t,g.canvasStyleHeight=e},g.resize=function(t,e){var n,i,a=0,o=0,r=window.innerWidth,s=window.innerHeight;switch(g.innerWidth=r,g.innerHeight=s,t&&(n=t),e&&(i=e),"noScale"==g.stageScale&&(n=t||g.width,i=e||g.height),g.stageScale){case"exactFit":n=t||r,i=e||s;break;case"noBorder":switch(n=t||r,i=e||g.height*r/g.width,g.align){case LStageAlign.BOTTOM:case LStageAlign.BOTTOM_LEFT:case LStageAlign.BOTTOM_RIGHT:case LStageAlign.BOTTOM_MIDDLE:a=s-i}break;case"showAll":g.width/g.height<r/s?(i=e||s,n=t||g.width*s/g.height):(n=t||r,i=e||g.height*r/g.width);case"noScale":default:switch(g.align){case LStageAlign.BOTTOM:case LStageAlign.BOTTOM_LEFT:a=s-i;break;case LStageAlign.RIGHT:case LStageAlign.TOP_RIGHT:o=r-n;break;case LStageAlign.TOP_MIDDLE:o=.5*(r-n);break;case LStageAlign.BOTTOM_RIGHT:a=s-i,o=r-n;break;case LStageAlign.BOTTOM_MIDDLE:a=s-i,o=.5*(r-n);break;case LStageAlign.MIDDLE:a=.5*(s-i),o=.5*(r-n);break;case LStageAlign.TOP:case LStageAlign.LEFT:case LStageAlign.TOP_LEFT:}}g.canvasObj.style.marginTop=a+"px",g.canvasObj.style.marginLeft=o+"px",g.isOldFirefox&&(g.left=parseInt(g.canvasObj.style.marginLeft),g.top=parseInt(g.canvasObj.style.marginTop)),g.ll_setStageSize(n,i)},g.sleep=function(t){for(var e=new Date;(new Date).getTime()-e.getTime()<t;);},g.screen=function(t){g.displayState=t,g.stage&&("number"==typeof g.displayState?g.resize(g.width*g.displayState,g.height*g.displayState):g.resize())},g}(),LSystem=LGlobal,LStage=LGlobal;function trace(){if(LGlobal.traceDebug){var t,e=document.getElementById("traceObject");if(0<trace.arguments.length&&null==e){var n=document.createElement("DIV");n.position=0,n.style.position="absolute",document.body.appendChild(n),(e=document.createElement("TEXTAREA")).id="traceObject",e.style.width=.5*window.innerWidth+"px",e.style.height="200px";var i=document.createElement("BUTTON");i.style.width=.25*window.innerWidth+"px",i.innerHTML="Hide",n.appendChild(i),LEvent.addEventListener(i,LGlobal.mobile?"touchstart":"click",function(t){e.style.display="none"==e.style.display?"":"none"}),(i=document.createElement("BUTTON")).style.width=.25*window.innerWidth+"px",i.innerHTML="position",n.appendChild(i);var a=function(t){n.position++,0==n.position?(n.style.top="5px",n.style.left="5px"):1==n.position?(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left="5px"):2==n.position?(n.style.top="5px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px"):(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px",n.position=-1)};a(),LEvent.addEventListener(i,LGlobal.mobile?"touchstart":"click",a),n.appendChild(document.createElement("BR")),n.appendChild(e)}for(t=0;t<trace.arguments.length;t++)e.value=e.value+trace.arguments[t]+"\r\n",e.scrollTop=e.scrollHeight}}function addChild(t){LGlobal.stage.addChild(t)}function removeChild(t){LGlobal.stage.removeChild(t)}function init(t,e,n,i,a,o){LGlobal.speed=t;var r,s=function(){LGlobal.canTouch&&LGlobal.aspectRatio==LANDSCAPE&&window.innerWidth<window.innerHeight?LGlobal.horizontalError():LGlobal.canTouch&&LGlobal.aspectRatio==PORTRAIT&&window.innerWidth>window.innerHeight?LGlobal.verticalError():setTimeout(a,100),LGlobal.startTimer=(new Date).getTime()};"function"==typeof t?(LGlobal.setCanvas(e,n,i),s(),r=function(){t(r),LGlobal.onShow()},LGlobal.speed=1e3/60):r=function(){LGlobal.frameRate=setInterval(function(){LGlobal.onShow()},t),LGlobal.setCanvas(e,n,i),s()},"complete"===document.readyState?r():LEvent.addEventListener(window,"load",function(){r()})}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.apply(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind-what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},a=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,a.prototype=new i,a}),Array.prototype.find||(Array.prototype.find=function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,a=arguments[1],o=0;o<i;o++)if(e=n[o],t.call(a,e,o,n))return e}),Array.prototype.findIndex||(Array.prototype.findIndex=function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,a=arguments[1],o=0;o<i;o++)if(e=n[o],t.call(a,e,o,n))return o;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,i;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),o=a.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(n=e),i=0;i<o;){var r;i in a&&(r=a[i],t.call(n,r,i,a)),i++}}),Array.prototype.every||(Array.prototype.every=function(t,e){"use strict";var n,i;if(null==this)throw new TypeError("this is null or not defined");var a=Object(this),o=a.length>>>0;if("function"!=typeof t)throw new TypeError;for(1<arguments.length&&(n=e),i=0;i<o;){var r;if(i in a)if(r=a[i],!t.call(n,r,i,a))return!1;i++}return!0}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,i=2<=arguments.length?arguments[1]:void 0,a=0;a<n;a++)if(a in e&&t.call(i,e[a],a,e))return!0;return!1}),String.format||(String.format=function(t){var n=Array.prototype.slice.call(arguments,1);return t.replace(/{(\d+)}/g,function(t,e){return void 0!==n[e]?n[e]:t})}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=/function\s([^(]{1,})\(/.exec(this.toString());return t&&1<t.length?t[1].trim():""},set:function(t){}}),window.console||(window.console={log:trace,warn:trace});var LInit=init;function base(t,e,n){var i=null,a=t.constructor.prototype,o={};for(i in"Object"==t.constructor.name&&console.warn("When you use the extends. You must make a method like 'XX.prototype.xxx=function(){}'. but not 'XX.prototype={xxx:function(){}}'."),typeof t.__ll__parent__==UNDEFINED&&(t.__ll__parent__=[],t.__ll__parent__=[]),t.__ll__parent__.push(e.prototype),a)o[i]=1;for(i in e.prototype)o[i]||(a[i]=e.prototype[i]);a.toString==Object.prototype.toString&&(a.toString=LObject.prototype.toString),e.apply(t,n)}var LExtends=base;function getTimer(){return(new Date).getTime()-LGlobal.startTimer}function getExtension(t){var e;return 3<=(e=t.match(/([^#?]+\.)([^.#?]+)/)).length?e[2].toLowerCase():null}var LObject=function(){function t(){this.type="LObject",this.objectIndex=++LGlobal.objectIndex,this.objectindex=this.objectIndex}return t.prototype={callParent:function(t,e){if(t&&e){var n,i=this,a=!1,o="__ll__parent_call"+t;return void 0===i[o]?(a=!0,i[o]=0):i[o]++,i[o]>=i.__ll__parent__.length?!1:(n=i.__ll__parent__[i[o]][t]?i.__ll__parent__[i[o]][t].apply(i,e):i.callParent(t,e),a&&delete i[o],n)}},copyProperty:function(t){var e;for(e in t)if("number"==typeof t[e]||"string"==typeof t[e]||"boolean"==typeof t[e]){if("objectindex"==e||"objectIndex"==e)continue;this[e]=t[e]}else Array.isArray(t[e])&&(this[e]=t[e].slice());t.mask&&(this.mask=t.mask.clone())},toString:function(){return"[object "+this.constructor.name+"]"}},t}(),LTimer=function(){function i(t,e){var n=this;LExtends(n,LEventDispatcher,[]),n.type="LTimer",n.delay=t,n.repeatCount=e||Number.MAX_VALUE,n.running=!1,n.currentCount=0,n.reset(),i.TimerManager.add(n)}for(var t in i.TimerManager=function(){function t(){this.childList=[]}return t.prototype={ll_show:function(){for(var t,e=0;e<this.childList.length;e++)(t=this.childList[e])&&t.ll_show()},add:function(t){this.childList.push(t)},remove:function(t){var e,n,i=this.childList;for(e=0,n=i.length;e<n;e++)if(t.objectIndex==i[e].objectIndex){this.childList.splice(e,1);break}}},new t}(),p={start:function(){this.running=!0},stop:function(){this.running=!1},reset:function(){this.currentTime=0,this.currentCount=0,this.stop()},destroy:function(){i.TimerManager.remove(this)},ll_show:function(){var t=this;!t.running||t.currentCount>=t.repeatCount||(t.currentTime+=LGlobal.speed,t.currentTime<t.delay||(t.currentTime=0,t.currentCount++,t.dispatchEvent(LTimerEvent.TIMER),t.currentCount>=t.repeatCount&&t.dispatchEvent(LTimerEvent.TIMER_COMPLETE)))}},p)i.prototype[t]=p[t];return LGlobal.childList.push(i.TimerManager),i}(),LColorTransform=function(t,e,n,i,a,o,r,s){var l=this;LExtends(l,LObject,[]),l.redMultiplier=t,l.greenMultiplier=e,l.blueMultiplier=n,l.alphaMultiplier=i,l.redOffset=a,l.greenOffset=o,l.blueOffset=r,l.alphaOffset=s},LTransform=function(){LExtends(this,LObject,[]),this.matrix=null},LMatrix=function(){function o(t,e,n,i,a,o,r,s,l){var u=this;LExtends(u,LObject,[]),u.a=1,u.b=0,u.u=0,u.c=0,u.d=1,u.v=0,u.tx=0,u.ty=0,u.w=1,typeof t!=UNDEFINED&&(u.a=t),typeof e!=UNDEFINED&&(u.b=e),typeof n!=UNDEFINED&&(u.c=n),typeof i!=UNDEFINED&&(u.d=i),typeof a!=UNDEFINED&&(u.tx=a),typeof o!=UNDEFINED&&(u.ty=o),typeof r!=UNDEFINED&&(u.u=r),typeof s!=UNDEFINED&&(u.v=s),typeof l!=UNDEFINED&&(u.w=l)}var t={setTo:function(t,e,n,i,a,o,r,s,l){var u=this;return typeof t!=UNDEFINED&&(u.a=t),typeof e!=UNDEFINED&&(u.b=e),typeof n!=UNDEFINED&&(u.c=n),typeof i!=UNDEFINED&&(u.d=i),typeof a!=UNDEFINED&&(u.tx=a),typeof o!=UNDEFINED&&(u.ty=o),typeof r!=UNDEFINED&&(u.u=r),typeof s!=UNDEFINED&&(u.v=s),typeof l!=UNDEFINED&&(u.w=l),u},isIdentity:function(){var t=this;return 1==t.a&&0==t.b&&0==t.c&&1==t.d&&0==t.tx&&0==t.ty&&0==u&&0==v&&1==w},transform:function(t){var e=this;return t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),e},identity:function(){this.setTo(1,0,0,1,0,0,0,0,1)},rotate:function(t){var e=t*Math.PI/180,n=Math.cos(e),i=Math.sin(e),a=new o(n,i,-i,n,0,0,0,0,1);return this.add(a),this},scale:function(t,e){var n=new o(t,0,0,e,0,0,0,0,1);return this.add(n),this},translate:function(t,e){var n=new o(1,0,0,1,t,e,0,0,1);return this.add(n),this},skew:function(t,e){var n=new o(1,e,t,1,0,0,0,0,1);return this.add(n),this},add:function(t){var e,n,i,a,o,r,s,l,u,c=this;e=c.a*t.a+c.b*t.c+c.u*t.tx,n=c.a*t.b+c.b*t.d+c.u*t.ty,s=c.a*t.u+c.b*t.v+c.u*t.w,i=c.c*t.a+c.d*t.c+c.v*t.tx,a=c.c*t.b+c.d*t.d+c.v*t.ty,l=c.c*t.u+c.d*t.v+c.v*t.w,o=c.tx*t.a+c.ty*t.c+c.w*t.tx,r=c.tx*t.b+c.ty*t.d+c.w*t.ty,u=c.tx*t.u+c.ty*t.v+c.w*t.w,c.setTo(e,n,i,a,o,r,s,l,u)},toArray:function(t){var e=this;if(Array.isArray(t)&&3==t.length)return[t[0]*e.a+t[1]*e.c+t[2]*e.tx,t[0]*e.b+t[1]*e.d+t[2]*e.ty,t[0]*e.u+t[1]*e.v+t[2]*e.w];var n=e.a*t.a+e.b*t.c+e.u*t.tx,i=e.a*t.b+e.b*t.d+e.u*t.ty,a=e.a*t.u+e.b*t.v+e.u*t.w,o=e.c*t.a+e.d*t.c+e.v*t.tx,r=e.c*t.b+e.d*t.d+e.v*t.ty,s=e.c*t.u+e.d*t.v+e.v*t.w;return[n,i,o,r,e.tx*t.a+e.ty*t.c+e.w*t.tx,e.tx*t.b+e.ty*t.d+e.w*t.ty,a,s,e.tx*t.u+e.ty*t.v+e.w*t.w]},clone:function(){var t=this;return new o(t.a,t.b,t.c,t.d,t.tx,t.ty,t.u,t.v,t.w)}};for(var e in t)o.prototype[e]=t[e];return o}(),LVec2=function(){function l(t,e){this.x=t||0,this.y=e||0}return l.dot=function(t,e){return t.x*e.x+t.y*e.y},l.cross=function(t,e){return t.x*e.y-t.y*e.x},l.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},l.getMinMax=function(t,e){for(var n=l.dot(t[0],e),i=l.dot(t[0],e),a=0,o=0,r=1;r<t.length;r++){var s=l.dot(t[r],e);s<n&&(n=s,a=r),i<s&&(i=s,o=r)}return{min_o:n,min_i:a,max_o:i,max_i:o}},l.prototype={length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){var t=this.length();return new l(this.x/t,this.y/t)},normR:function(){return new l(-this.y,this.x)},normL:function(){return new l(this.y,-this.x)}},l}(),LEventDispatcher=function(){function t(){LExtends(this,LObject,[]),this._eventList=new Array}var e={addEventListener:function(t,e){this._eventList.push({listener:e,type:t})},removeEventListener:function(t,e){var n,i,a=this;for(i=a._eventList.length,n=0;n<i;n++)if(a._eventList[n]&&t==a._eventList[n].type&&(!e||a._eventList[n].listener==e))return void a._eventList.splice(n,1)},removeAllEventListener:function(){this._eventList=[]},dispatchEvent:function(t){var e,n=this,i=n._eventList.length,a="string"==typeof t?t:t.eventType;for(e=0;e<i;e++)if(n._eventList[e]&&a==n._eventList[e].type){if("string"==typeof t)n.currentTarget=n.target=n,n.eventType=n.event_type=a,n._eventList[e].listener(n),delete n.currentTarget,delete n.target,delete n.eventType;else if(t.target||(t.target=n),t.currentTarget||(t.currentTarget=t.target),t._ll_preventDefault=!1,n._eventList[e].listener(t),t._ll_preventDefault)return!1;return!0}return!1},hasEventListener:function(t,e){var n,i=this._eventList.length;for(n=0;n<i;n++)if(this._eventList[n]&&t==this._eventList[n].type&&(typeof e==UNDEFINED||e==this._eventList[n].listener))return!0;return!1}};for(var n in e)t.prototype[n]=e[n];return t}(),LDisplayObject=function(){function t(){var t=this;LExtends(t,LEventDispatcher,[]),t.name="instance"+t.objectIndex,t.x=0,t.y=0,t.width=0,t.height=0,t.scaleX=1,t.scaleY=1,t.alpha=1,t.visible=!0,t.rotate=0,t.mask=null,t.blendMode=null,t.filters=null,t.transform=new LTransform,t.parent=null}var e={_createCanvas:function(){this._canvas||(this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"))},ll_show:function(t){var e=this;t=t||LGlobal.canvas,e._canShow()&&(e._ll_trans=!1,LGlobal.box2d||"function"!=typeof e._ll_loopframe||e._ll_loopframe(),t.save(),e._showReady(t),e.blendMode&&(t.globalCompositeOperation=e.blendMode),e.filters&&e._ll_setFilters(t),e._rotateReady(),null!=e.mask&&e.mask.ll_show&&!e._ll_cacheAsBitmap&&(e.mask.ll_show(t),t.clip()),e._transformRotate(t),e._transformScale(t),e._coordinate(t),e.transform.matrix&&e.transform.matrix.transform(t),e.alpha<1&&(e._ll_trans=!0,t.globalAlpha*=e.alpha),LGlobal.fpsStatus&&(LGlobal.fpsStatus.display++,e._ll_trans&&LGlobal.fpsStatus.transform++),e._ll_cacheAsBitmap?e._ll_cacheAsBitmap._ll_show(t):e._ll_show(t),t.restore(),null!=LGlobal.box2d&&"function"==typeof e._ll_loopframe&&e._ll_loopframe())},_canShow:function(){return this.visible},_coordinate:function(t){var e=this;0==e.x&&0==e.y||(e._ll_trans=!0,t.transform(1,0,0,1,e.x,e.y))},_rotateReady:function(){},_showReady:function(t){},_ll_show:function(t){},_ll_setFilters:function(t){var e,n,i=this.filters;if(i)for(e=0,n=i.length;e<n;e++)i[e].ll_show(this,t)},startX:function(){return 0},startY:function(){return 0},getWidth:function(t){return 1},getHeight:function(t){return 1},_transformRotate:function(t){var e=this;t=t||LGlobal.canvas,0!=e.rotate&&(e._ll_trans=!0,rotateFlag=Math.PI/180,rotateObj=new LMatrix,typeof e.rotatex==UNDEFINED&&(e.rotatex=0,e.rotatey=0),e.box2dBody&&(rotateFlag=1),rotateObj.a=Math.cos(e.rotate*rotateFlag),rotateObj.b=Math.sin(e.rotate*rotateFlag),rotateObj.c=-rotateObj.b,rotateObj.d=rotateObj.a,rotateObj.tx=e.x+e.rotatex,rotateObj.ty=e.y+e.rotatey,rotateObj.transform(t).setTo(1,0,0,1,-rotateObj.tx,-rotateObj.ty).transform(t))},_transformScale:function(t){var e,n=this;t=t||LGlobal.canvas,1==n.scaleX&&1==n.scaleY||(n._ll_trans=!0,e=new LMatrix,1!=n.scaleX&&(e.tx=n.x),1!=n.scaleY&&(e.ty=n.y),e.a=n.scaleX,e.d=n.scaleY,e.transform(t).setTo(1,0,0,1,-e.tx,-e.ty).transform(t))},getAbsoluteScale:function(){var t,e,n;for(t=this.scaleX,e=this.scaleY,n=this.parent;n&&"root"!=n;)t*=n.scaleX,e*=n.scaleY,n=n.parent;return{scaleX:t,scaleY:e}},getRootCoordinate:function(){return this.localToGlobal(new LPoint(0,0))},localToGlobal:function(t){var e;return m=this.getRootMatrix(),e=m.toArray([t.x,t.y,1]),new LPoint(e[0],e[1])},globalToLocal:function(t){var e;return m=this.getLocalMatrix(),e=m.toArray([t.x,t.y,1]),new LPoint(e[0],e[1])},getBounds:function(t){if(typeof t==UNDEFINED)return new LRectangle(0,0,0,0);var e,n,i,a,o=0,r=0;return this.objectIndex!=t.objectIndex&&(i=this.getRootCoordinate(),a=t.getRootCoordinate(),o=i.x-a.x,r=i.y-a.y),e=this.getWidth(!0),n=this.getHeight(!0),new LRectangle(o,r,e,n)},cacheAsBitmap:function(t){var e=this;if(t){var n=e.x-e.startX(!0),i=e.y-e.startY(!0),a=e.getDataCanvas(n,i,e.getWidth(!0),e.getHeight(!0)),o=new LBitmapData(a,0,0,null,null,LBitmapData.DATA_CANVAS),r=new LBitmap(o);r.x=-n,r.y=-i,e._ll_cacheAsBitmap=r}else e._ll_cacheAsBitmap=null},getDataCanvas:function(t,e,n,i){var a,o,r,s,l=this;return l._createCanvas(),a=l.x,o=l.y,l.x=t||0,l.y=e||0,l.width=n||l.getWidth(),l.height=i||l.getHeight(),l._canvas.width=l.width,l._canvas.height=l.height,l.mask&&(r=l.mask.x,s=l.mask.y,l.mask.x+=l.x-a,l.mask.y+=l.y-o),l.ll_show(l._context),l.x=a,l.y=o,l.mask&&(l.mask.x=r,l.mask.y=s),l._canvas},getDataURL:function(){var t=this,e=t.x-t.startX(!0),n=t.y-t.startY(!0),i=t.getDataCanvas(e,n,t.getWidth(!0),t.getHeight(!0));return i.toDataURL.apply(i,arguments)},getParentByConstructor:function(t){for(var e=this.parent;"object"==typeof e;){if(e instanceof t)return e;e=e.parent}return null},ismouseonShapes:function(t,e,n){var i,a,o,r,s;for(typeof t==UNDEFINED&&(t=this.shapes),i=this.getRootMatrix(),o=t.length-1;0<=o;o--)if(s=(a=t[o]).arg,r=this._changeShape(a.type,s,i),a.type==LShape.VERTICES){if(LGlobal.hitPolygon(r,e,n))return!0}else if(a.type==LShape.RECT){if(LGlobal.hitPolygon(r,e,n))return!0}else if(a.type==LShape.ARC&&(r[0]-e)*(r[0]-e)+(r[1]-n)*(r[1]-n)<r[3])return!0;return!1},_changeShape:function(t,e,n){var i,a,o,r,s,l;e=e;if(t==LShape.VERTICES)for(i=[],o=0,r=e.length;o<r;o++)i[o]=n.toArray([e[o][0],e[o][1],1]);else if(t==LShape.RECT)for(r=(i=[[e[o=0],e[1]],[e[0]+e[2],e[1]],[e[0]+e[2],e[1]+e[3]],[e[0],e[1]+e[3]]]).length;o<r;o++)i[o]=n.toArray([i[o][0],i[o][1],1]);else t==LShape.ARC&&(s=n.toArray([e[0],e[1],1]),l=n.toArray([e[0]+e[2],e[1],1]),a=(s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]),i=[s[0],s[1],Math.sqrt(a),a]);return i},getRootMatrix:function(){for(var t=this,e=new LMatrix;t&&"root"!=t;)1==t.scaleX&&1==t.scaleY||e.scale(t.scaleX,t.scaleY),0!=t.rotate&&e.rotate(t.rotate),0==t.x&&0==t.y||e.translate(t.x,t.y),t=t.parent;return e},getLocalMatrix:function(){for(var t=this,e=new LMatrix,n=[];t&&"root"!=t;)n.push(t),t=t.parent;for(var i=n.length-1;0<=i;i--)0==(t=n[i]).x&&0==t.y||e.translate(-t.x,-t.y),0!=t.rotate&&e.rotate(-t.rotate),1==t.scaleX&&1==t.scaleY||e.scale(1/t.scaleX,1/t.scaleY);return e},remove:function(){var t=this.parent;t&&"root"!=t&&(t.removeChild(this),this._ll_removeFromSelf=!0)}};for(var n in e)t.prototype[n]=e[n];return t}(),LInteractiveObject=function(){function t(){LExtends(this,LDisplayObject,[]),this.type="LInteractiveObject",this.mouseEnabled=!0,this.mouseList=new Array}var e={addEventListener:function(t,e){if(0<=t.indexOf("mouse")||0<=t.indexOf("touch")||t==LMouseEvent.DOUBLE_CLICK){if(LMouseEventContainer.container[t]||(t==LMouseEvent.MOUSE_OVER||t==LMouseEvent.MOUSE_OUT)&&LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE])return void LMouseEventContainer.addMouseEvent(this,t,e);this.mouseList.push({listener:e,type:t})}else this._eventList.push({listener:e,type:t})},removeEventListener:function(t,e){var n,i,a=this;if(!(0<=t.indexOf("mouse")||0<=t.indexOf("touch")||t==LMouseEvent.DOUBLE_CLICK))return a.callParent("removeEventListener",arguments);if(LMouseEventContainer.container[t]||(t==LMouseEvent.MOUSE_OVER||t==LMouseEvent.MOUSE_OUT)&&LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE])LMouseEventContainer.removeMouseEvent(a,t,e);else for(i=a.mouseList.length,n=0;n<i;n++)if(a.mouseList[n]&&t==a.mouseList[n].type&&a.mouseList[n].listener==e)return void a.mouseList.splice(n,1)},removeAllEventListener:function(){var t=this;t.mouseList.length=0,t._eventList.length=0,LMouseEventContainer.container[LMouseEvent.MOUSE_DOWN]&&LMouseEventContainer.removeMouseEvent(t,LMouseEvent.MOUSE_DOWN),LMouseEventContainer.container[LMouseEvent.MOUSE_UP]&&LMouseEventContainer.removeMouseEvent(t,LMouseEvent.MOUSE_UP),LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&(LMouseEventContainer.removeMouseEvent(t,LMouseEvent.MOUSE_MOVE),LMouseEventContainer.removeMouseEvent(t,LMouseEvent.MOUSE_OVER),LMouseEventContainer.removeMouseEvent(t,LMouseEvent.MOUSE_OUT))},hasEventListener:function(t,e){var n,i,a=this;if(LMouseEventContainer.container[t])return LMouseEventContainer.hasEventListener(a,t,e);if(!(0<=t.indexOf("mouse")||0<=t.indexOf("touch")||t==LMouseEvent.DOUBLE_CLICK))return a.callParent("hasEventListener",arguments);for(i=a.mouseList.length,n=0;n<i;n++)if(a.mouseList[n]&&t==a.mouseList[n].type&&(!e||a.mouseList[n].listener==e))return!0;return!1}};for(var n in e)t.prototype[n]=e[n];return t}(),LDisplayObjectContainer=function(){function t(){LExtends(this,LInteractiveObject,[]),this.childList=new Array,this.numChildren=0,this.mouseChildren=!0}var e={addChild:function(t){var e,n=this;return t.parent&&(e=LGlobal.destroy,LGlobal.destroy=!1,t.parent.removeChild(t),LGlobal.destroy=e),(t.parent=n).childList.push(t),n.numChildren=n.childList.length,n._ll_removeFromSelf=!1,t},addChildAt:function(t,e){var n,i=this;if(!(e<0||e>i.childList.length))return"function"==typeof t.remove&&(n=LGlobal.destroy,LGlobal.destroy=!1,t.remove(),LGlobal.destroy=n),(t.parent=i).childList.splice(e,0,t),i.numChildren=i.childList.length,i._ll_removeFromSelf=!1,t},removeChild:function(t){var e,n,i=this.childList;for(e=0,n=i.length;e<n;e++)if(t.objectIndex==i[e].objectIndex){LGlobal.destroy&&t.die&&t.die(),this.childList.splice(e,1);break}this.numChildren=this.childList.length,delete t.parent},getChildAt:function(t){var e=this.childList;return 0==e.length||e.length<=t?null:e[t]},getChildByName:function(t){var e,n,i=this.childList;for(e=0,n=i.length;e<n;e++)if(i[e]&&i[e].name==t)return i[e];return null},removeChildAt:function(t){var e=this.childList;if(!(e.length<=t)){LGlobal.destroy&&e[t].die&&e[t].die();var n=this.childList.splice(t,1);return delete(n=n[0]).parent,this.numChildren=this.childList.length,n}},getChildIndex:function(t){if(!t)return-1;var e,n=this.childList,i=n.length;for(e=0;e<i;e++)if(n[e].objectIndex==t.objectIndex)return e;return-1},setChildIndex:function(t,e){var n,i=this.childList,a=i.length;if("root"==t.parent||t.parent.objectIndex!=this.objectIndex||e<0||a<=e)return-1;for(n=0;n<a&&i[n].objectIndex!=t.objectIndex;n++);return this.childList.splice(n,1),this.childList.splice(e,0,t),e},resize:function(){this.width=this.getWidth(),this.height=this.getHeight()},removeAllChild:function(){var t,e,n=this,i=n.childList;for(t=0,e=i.length;t<e;t++)LGlobal.destroy&&i[t].die&&i[t].die();n.childList.length=0,n.width=0,n.height=0,n.numChildren=0}};for(var n in e)t.prototype[n]=e[n];return t}(),LLoader=function(){function i(){LExtends(this,LEventDispatcher,[]),this.type="LLoader"}return i.TYPE_BITMAPDATE="bitmapData",i.prototype.load=function(t,e,n){var a=this;e||(e=i.TYPE_BITMAPDATE),a.loadtype=e,a.useXHR=n&&!LAjax.local&&LAjax.canUseBlob,e==i.TYPE_BITMAPDATE&&(a.useXHR?(LAjax.responseType=LAjax.ARRAY_BUFFER,LAjax.progress=function(t){var e=new LEvent(LEvent.PROGRESS);e.currentTarget=a,e.target=t.currentTarget,e.loaded=t.loaded,e.total=t.total,e.responseURL=t.responseURL,a.dispatchEvent(e)},LAjax.post(t,{},function(e){var n;try{n=new Blob([e],{type:"image/png"})}catch(t){if("TypeError"===t.name&&window.BlobBuilder){var i=new BlobBuilder;i.append(e),n=i.getBlob()}else n=null,a.useXHR=!1}a.useXHR&&(t=a.createObjectURL(n)),a.loadStart(t)},function(t){var e=new LEvent(LEvent.ERROR);e.currentTarget=a,e.target=t,e.responseURL=t.responseURL,a.dispatchEvent(e)})):a.loadStart(t))},i.prototype.loadStart=function(t){var n=this;n.content=new Image,n.content.onload=function(){n.content.onload=null;var t=new LEvent(LEvent.COMPLETE);t.currentTarget=n,t.target=n.content,n.useXHR&&n.revokeObjectURL(n.content.src),n.dispatchEvent(t),delete n.content},n.useXHR||(n.content.onerror=function(t){var e=new LEvent(LEvent.ERROR);e.currentTarget=n,e.target=t.target,e.responseURL=t.target.src,n.dispatchEvent(e)}),n.content.src=t},i.prototype.createObjectURL=function(t){return(window.URL||window.webkitURL).createObjectURL(t)},i.prototype.revokeObjectURL=function(t){(window.URL||window.webkitURL).revokeObjectURL(t)},i}(),LURLLoader=function(){function r(){var t=this;LExtends(t,LEventDispatcher,[]),t.type="LURLLoader",t.loadtype="",t.content=null,t.event={}}return r.TYPE_TEXT="text",r.TYPE_JS="js",r.prototype.load=function(n,t){var e,i,a=this;if(t||("txt"==(i=getExtension(n))?t=r.TYPE_TEXT:"js"==i&&(t=r.TYPE_JS)),(a.loadtype=t)==r.TYPE_TEXT)LAjax.progress=function(t){var e=new LEvent(LEvent.PROGRESS);e.currentTarget=a,e.target=t.currentTarget,e.loaded=t.loaded,e.total=t.total,e.responseURL=t.responseURL,a.dispatchEvent(e)},LAjax.get(n,{},function(t){e=new LEvent(LEvent.COMPLETE),a.data=t,e.currentTarget=a,e.target=t,a.dispatchEvent(e),delete a.content,delete a.data},function(t){var e=new LEvent(LEvent.ERROR);e.currentTarget=a,e.target=t,e.responseURL=t.responseURL,a.dispatchEvent(e)});else if(t==r.TYPE_JS){var o=document.createElement("script");o.onerror=function(t){var e=new LEvent(LEvent.ERROR);e.currentTarget=a,e.target=t.target,e.responseURL=n,a.dispatchEvent(e)},o.onload=function(){(e=new LEvent(LEvent.COMPLETE)).currentTarget=a,(e.target=a).dispatchEvent(e),delete a.content},o.src=n,o.type="text/javascript",document.querySelector("head").appendChild(o)}},r}(),LFontLoader=function(){function t(){LExtends(this,LEventDispatcher,[]),this.type="LFontLoader"}return t.TYPE_FONT="font",t.prototype.load=function(n,t){var e,i,a,o,r,s,l=this,u="";(e=document.createElement("style")).onerror=function(t){var e=new LEvent(LEvent.ERROR);e.currentTarget=l,e.target=t.target,e.responseURL=n,l.dispatchEvent(e)},o=n.split(",");for(var c=0;c<o.length;c++)"ttf"==(s=(r=o[c].split("."))[r.length-1])?i=o[c]:"eot"==s&&(a=o[c]);u="@font-face{font-family:'"+t+"';",a&&(u+="src:url("+a+");"),i&&(u+="src:local('lufy'),url("+i+")format('opentype');"),e.innerHTML=u,document.querySelector("head").appendChild(e),setTimeout(function(){var t=new LEvent(LEvent.COMPLETE);t.currentTarget=l,(t.target=l).dispatchEvent(t)},1)},t}(),LWebAudio=function(){function l(){var t=this;LExtends(t,LEventDispatcher,[]),t.currentTime=0,t.currentStart=0,t.currentSave=0,t.length=0,t.loopStart=0,t.loopEnd=0,t.loopIndex=0,t.loopLength=1,t.playing=!1,t.volume=1,LSound.Container.add(t)}l.container=[],l.containerCount=0;try{l.audioTag=new Audio}catch(t){console.warn("ReferenceError:Can't find variable:Audio"),l.audioTag={canPlayType:function(){return!1}}}l._context=null;var t={getWebAudio:function(){var e;if(0<l.containerCount)e=l.container.shift();else if(typeof AudioContext!==UNDEFINED)try{e=new AudioContext}catch(t){l.containerCount=l.container.length,e=l.container.shift()}else{if(typeof webkitAudioContext===UNDEFINED)throw"AudioContext not supported.:(";try{e=new webkitAudioContext}catch(t){l.containerCount=l.container.length,e=l.container.shift()}}return e.createGainNode||(e.createGainNode=e.createGain),l.container.push(e),e},onload:function(t){var e=this;if("[object AudioBuffer]"===Object.prototype.toString.apply(t)){e.data||(e.data=e.getWebAudio()),e.buffer=t,e.length=e.buffer.duration;var n=new LEvent(LEvent.COMPLETE);n.currentTarget=e,n.target=e.buffer,e.dispatchEvent(n)}else e.load(t)},_onended:function(){var t=this;t.dispatchEvent(LEvent.SOUND_COMPLETE),t.close(),++t.loopIndex<t.loopLength&&t.play(t.currentStart,void 0,t.currentTimeTo)},load:function(t){var i=this;if("string"==typeof t){var e,n,a,o,r={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(e=t.split(","),a=0;a<e.length;a++){if((o=r[o=(n=e[a].split("."))[n.length-1]]?r[o]:[o]).some(function(t,e,n){return l.audioTag.canPlayType(i._type+"/"+t)}))return LAjax.responseType=LAjax.ARRAY_BUFFER,LAjax.progress=function(t){var e=new LEvent(LEvent.PROGRESS);e.currentTarget=i,e.target=t.currentTarget,e.loaded=t.loaded,e.total=t.total,e.responseURL=t.responseURL,i.dispatchEvent(e)},void LAjax.get(e[a],{},i.onload.bind(i),function(t){var e=new LEvent(LEvent.ERROR);e.currentTarget=i,e.target=t,e.responseURL=t.responseURL,i.dispatchEvent(e)});console.warn("Not support "+n[n.length-1]+":"+e[a]);var s=new LEvent(LEvent.COMPLETE);s.currentTarget=s.target=i,i.dispatchEvent(s)}}else"[object AudioBuffer]"==Object.prototype.toString.apply(t)?i.onload(t):"[object ArrayBuffer]"==Object.prototype.toString.apply(t)&&(i.data||(i.data=i.getWebAudio()),i.data.decodeAudioData(t,i.onload.bind(i),function(t){throw"AudioContext decodeAudioData error:"+t.toString()}))},getCurrentTime:function(){var t=this;return t.playing?t.data.currentTime-t.currentSave+t.currentTime:t.currentSave},setVolume:function(t){this.volume=t,this.playing&&(this.volumeNode.gain.value=t)},getVolume:function(){return this.volume},play:function(t,e,n){var i=this;0!=i.length&&(typeof e!==UNDEFINED&&(i.loopIndex=0,i.loopLength=e),typeof t!==UNDEFINED&&(i.currentTime=t,i.currentStart=t),i.currentTimeTo=typeof n!==UNDEFINED?n>i.length?i.length:n:i.length,i.data.loop=!1,i.playing=!0,i.timeout&&(clearTimeout(i.timeout),delete i.timeout),i.timeout=setTimeout(i._onended.bind(i),1e3*(i.currentTimeTo-i.currentTime)),i.bufferSource=i.data.createBufferSource(),i.bufferSource.buffer=i.buffer,i.volumeNode=i.data.createGainNode(),i.volumeNode.gain.value=i.volume,i.volumeNode.connect(i.data.destination),i.bufferSource.connect(i.volumeNode),i.currentSave=i.data.currentTime,i.bufferSource.start?i.bufferSource.start(0,i.currentTime,i.length-i.currentTime):i.bufferSource.noteGrainOn(0,i.currentTime,i.length-i.currentTime))},playSegment:function(t,e,n){this.playTo(t,t+e,n)},playTo:function(t,e,n){this.play(t,n,e)},stop:function(){var t=this;t.playing&&(t.timeout&&(clearTimeout(t.timeout),delete t.timeout),t.bufferSource.stop?t.bufferSource.stop(0):t.bufferSource.noteOff(0),t.currentSave=t.getCurrentTime(),t.currentTime=t.currentSave,t.playing=!1)},close:function(){var t=this;t.playing&&(t.timeout&&(clearTimeout(t.timeout),delete t.timeout),t.bufferSource.stop?t.bufferSource.stop(0):t.bufferSource.noteOff(0),t.playing=!1,t.currentTime=0,t.currentSave=0)},ll_check:function(){var t=this;t.playing&&t.currentTimeTo<t.data.currentTime-t.currentSave+.001*LSound.Container.time&&t._onended()},die:function(){LSound.Container.remove(this)}};for(var e in t)l.prototype[e]=t[e];return l}(),LMedia=function(){function t(){var t=this;LExtends(t,LDisplayObject,[]),t.length=0,t.loopIndex=0,t.loopLength=1,t.playing=!1,t.oncomplete=null,t.onsoundcomplete=null,t.currentStart=0,LSound.Container.add(this)}var e={onload:function(){var n=this;if(n.data.readyState){n.length=n.data.duration-(LGlobal.android?.1:0);var t=new LEvent(LEvent.COMPLETE);return t.currentTarget=n,t.target=n.data,void n.dispatchEvent(t)}n.data.addEventListener("error",function(t){var e=new LEvent(LEvent.ERROR);e.currentTarget=n,e.target=t.target,e.responseURL=t.target.src,n.dispatchEvent(e)},!1),n.data.addEventListener("canplaythrough",function(){n.onload()},!1)},_onended:function(){var t,e=this;e.dispatchEvent(LEvent.SOUND_COMPLETE),++e.loopIndex<e.loopLength?(t=e.loopIndex,e.loopLength,e.close(),e.play(e.currentStart,e.loopLength,e.currentTimeTo),e.loopIndex=t):e.close()},load:function(t){var i=this;if("[object HTMLAudioElement]"==Object.prototype.toString.apply(t))return i.data=t,void i.onload();var e,n,a,o,r={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(e=t.split(","),a=0;a<e.length;a++){if((o=r[o=(n=e[a].split("."))[n.length-1]]?r[o]:[o]).some(function(t,e,n){return i.data.canPlayType(i._type+"/"+t)}))return i.data.src=e[a],i.onload(),void i.data.load();console.warn("Not support "+n[n.length-1]+":"+e[a]);var s=new LEvent(LEvent.COMPLETE);s.currentTarget=s.target=i,i.dispatchEvent(s)}i.oncomplete&&i.oncomplete({})},getCurrentTime:function(){return this.data.currentTime},setVolume:function(t){this.data.volume=t},getVolume:function(){return this.data.volume},play:function(t,e,n){var i=this;0!=i.length&&(LGlobal.android&&LSound.Container.stopOther(this),typeof t!=UNDEFINED&&(i.data.currentTime=t,i.currentStart=t),typeof e!=UNDEFINED&&(i.loopLength=e),i.currentTimeTo=typeof n!==UNDEFINED?n>i.length?i.length:n:i.length,i.timeout&&(clearTimeout(i.timeout),delete i.timeout),i.timeout=setTimeout(function(){i._onended()},1e3*(i.currentTimeTo-i.data.currentTime)),i.data.loop=!1,i.loopIndex=0,i.playing=!0,i.data.play())},playSegment:function(t,e,n){this.playTo(t,t+e,n)},playTo:function(t,e,n){this.play(t,n,e)},stop:function(){var t=this;t.playing&&(t.timeout&&(clearTimeout(t.timeout),delete t.timeout),t.playing=!1,t.data.pause())},close:function(){var t=this;t.playing&&(t.timeout&&(clearTimeout(t.timeout),delete t.timeout),t.playing=!1,t.data.pause(),t.data.currentTime=0,t.currentSave=0)},ll_check:function(){var t=this;t.playing&&(t.data.duration!=t._ll_duration&&(t._ll_duration=t.data.duration,t.length=t.data.duration-(LGlobal.android?.1:0)),t.currentTimeTo<t.data.currentTime+.005*LSound.Container.time&&t._onended())},die:function(){LSound.Container.remove(this)}};for(var n in e)t.prototype[n]=e[n];return t}(),LSound=function(){function a(t){var e=this;if(e.type="LSound",e._type="audio",a.webAudioEnabled&&LGlobal.webAudio)LExtends(e,LWebAudio,[]);else{LExtends(e,LMedia,[]);try{e.data=new Audio}catch(t){console.warn("ReferenceError:Can't find variable:Audio"),e.data={}}e.data.loop=!1,e.data.autoplay=!1}t&&e.load(t)}a.TYPE_SOUND="sound",a.webAudioEnabled=!1;var t=location.protocol;if("http:"==t||"https:"==t){if(typeof AudioContext!==UNDEFINED)try{LWebAudio._context=new AudioContext}catch(t){}else if(typeof webkitAudioContext!==UNDEFINED)try{LWebAudio._context=new webkitAudioContext}catch(t){}LWebAudio._context&&(LWebAudio.container.push(LWebAudio._context),a.webAudioEnabled=!0)}return a.Container={ll_save:0,time:0,list:[],ll_show:function(){var t=a.Container,e=(new Date).getTime();t.time=e-(t.ll_save?t.ll_save:e),t.ll_save=e;for(var n=t.list,i=n.length-1;0<=i;i--)n[i]&&n[i].ll_check()},add:function(t){0<=a.Container.list.indexOf(t)||a.Container.list.push(t)},remove:function(t){for(var e=a.Container.list,n=e.length-1;0<=n;n--)if(e[n].objectIndex==t.objectIndex){e.splice(n,1);break}},stopOther:function(t){for(var e=a.Container.list,n=e.length-1;0<=n;n--)e[n].objectIndex!=t.objectIndex&&e[n].stop()}},LGlobal.childList.push(a.Container),a}(),LVideo=function(){function t(t){var e=this;LExtends(e,LMedia,[]),e.type="LVideo",e._type="video",e.rotatex=0,e.rotatey=0,e.data=document.createElement("video"),e.data.style.display="none",document.body.appendChild(e.data),e.data.id="video_"+e.objectIndex,e.data.loop=!1,e.data.autoplay=!1,t&&e.load(t)}var e={_ll_show:function(t){t.drawImage(this.data,this.x,this.y)},die:function(){document.body.removeChild(this.data),delete this.data},getWidth:function(){return this.data.width},getHeight:function(){return this.data.height}};for(var n in e)t.prototype[n]=e[n];return t}(),LPoint=function(){function i(t,e){this.x=t,this.y=e}return i.distance=function(t,e){return i.distance2(t.x,t.y,e.x,e.y)},i.distance2=function(t,e,n,i){var a=t-n,o=e-i;return Math.sqrt(a*a+o*o)},i.interpolate=function(t,e,n){return new i(t.x+(e.x-t.x)*(1-n),t.y+(e.y-t.y)*(1-n))},i.polar=function(t,e){return new i(t*Math.cos(e),t*Math.sin(e))},i.prototype={toString:function(){return"[object LPoint("+this.x+","+this.y+")]"},length:function(){return i.distance2(this.x,this.y,0,0)},add:function(t){return new i(this.x+t.x,this.y+t.y)},clone:function(){return new i(this.x,this.y)},setTo:function(t,e){this.x=t,this.y=e},copyFrom:function(t){this.setTo(t.x,t.y)},equals:function(t){return this.x==t.x&&this.y==t.y},normalize:function(t){var e=t/this.length();this.x*=e,this.y*=e},offset:function(t,e){this.x+=t,this.y+=e},subtract:function(t){return new i(this.x-t.x,this.y-t.y)}},i}(),LRectangle=function(){function r(t,e,n,i){var a=this;a.x=t,a.y=e,a.width=n,a.height=i,a.setRectangle()}return r.prototype={setRectangle:function(){var t=this;t.bottom=t.y+t.height,t.right=t.x+t.width,t.left=t.x,t.top=t.y},clone:function(){return new r(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&t<=this.right&&e>=this.y&&e<=this.bottom},containsRect:function(t){return t.x>=this.x&&t.right<=this.right&&t.y>=this.y&&t.bottom<=this.bottom},equals:function(t){return t.x==this.x&&t.width==this.width&&t.y==this.y&&t.height==this.height},inflate:function(t,e){this.width+=t,this.height+=e,this.setRectangle()},intersection:function(t){var e=this,n=e.x>t.x?e.x:t.x,i=e.y>t.y?e.y:t.y,a=e.right>t.right?t.right:e.right,o=e.bottom>t.bottom?t.bottom:e.bottom;return n<=a&&i<=o?new r(n,i,a,o):new r(0,0,0,0)},intersects:function(t){var e=this,n=e.x>t.x?e.x:t.x,i=e.y>t.y?e.y:t.y,a=e.right>t.right?t.right:e.right,o=e.bottom>t.bottom?t.bottom:e.bottom;return n<=a&&i<=o},isEmpty:function(){return 0==this.x&&0==this.y&&0==this.width&&0==this.height},offset:function(t,e){this.x+=t,this.y+=e,this.setRectangle()},setEmpty:function(){var t=this;t.x=0,t.y=0,t.width=0,t.height=0,t.setRectangle()},setTo:function(t,e,n,i){var a=this;a.x=t,a.y=e,a.width=n,a.height=i,a.setRectangle()},toString:function(){return"[object LRectangle("+this.x+","+this.y+","+this.width+","+this.height+")]"},union:function(t){var e=this;return new r(e.x>t.x?t.x:e.x,e.y>t.y?t.y:e.y,e.right>t.right?e.right:t.right,e.bottom>t.bottom?e.bottom:t.bottom)}},r}(),LGraphics=function(){function o(){var t=this;LExtends(t,LObject,[]),t.type="LGraphics",t.color="#000000",t.alpha=1,t.bitmap=null,t.setList=new Array,t.showList=new Array}var t={ll_show:function(t){var e,n=this.setList.length;if(0!=n)for(e=0;e<n;e++)this.setList[e](t),LGlobal.fpsStatus&&LGlobal.fpsStatus.graphics++},clone:function(){var t,e,n,i=this,a=new o;for(a.color=i.color,a.alpha=i.alpha,a.bitmap=i.bitmap,t=0,e=i.setList.length;t<e;t++)n=i.setList[t],a.setList.push(n);for(t=0,e=i.showList.length;t<e;t++)n=i.showList[t],a.showList.push(n);return a},lineCap:function(e){this.setList.push(function(t){t.lineCap=e})},lineJoin:function(e){this.setList.push(function(t){t.lineJoin=e})},lineWidth:function(e){this.setList.push(function(t){t.lineWidth=e})},strokeStyle:function(e){this.setList.push(function(t){t.strokeStyle=e})},stroke:function(){this.setList.push(function(t){t.stroke()})},beginPath:function(){this.setList.push(function(t){t.beginPath()})},closePath:function(){this.setList.push(function(t){t.closePath()})},moveTo:function(e,n){this.setList.push(function(t){t.moveTo(e,n)}),this.showList.push({type:LShape.POINT,arg:[e,n]})},lineTo:function(e,n){this.setList.push(function(t){t.lineTo(e,n)}),this.showList.push({type:LShape.POINT,arg:[e,n]})},rect:function(e,n,i,a){this.setList.push(function(t){t.rect(e,n,i,a)}),this.showList.push({type:LShape.RECT,arg:[e,n,i,a]})},fillStyle:function(e){this.setList.push(function(t){t.fillStyle=e})},fill:function(){this.setList.push(function(t){t.fill()})},arc:function(e,n,i,a,o,r){this.setList.push(function(t){t.arc(e,n,i,a,o,r)}),this.showList.push({type:LShape.ARC,arg:a})},lineStyle:function(e,n){null==n&&(n=this.color),this.color=n,this.setList.push(function(t){t.lineWidth=e,t.strokeStyle=n})},clear:function(){this.bitmap=null,this.setList.length=0,this.showList.length=0},beginBitmapFill:function(t){var e=this;e.setList.push(function(){e.bitmap=t})},drawEllipse:function(h,d,p,f,v){var g=this;g.setList.push(function(t){var e,n,i,a,o,r,s,l,u,c;if(t.beginPath(),.5522848,e=p[0],n=p[1],o=(i=p[2])/2*.5522848,r=(a=p[3])/2*.5522848,s=e+i,l=n+a,u=e+i/2,c=n+a/2,t.moveTo(e,c),t.bezierCurveTo(e,c-r,u-o,n,u,n),t.bezierCurveTo(u+o,n,s,c-r,s,c),t.bezierCurveTo(s,c+r,u+o,l,u,l),t.bezierCurveTo(u-o,l,e,c+r,e,c),g.bitmap)return t.save(),t.clip(),t.drawImage(g.bitmap.image,g.bitmap.x,g.bitmap.y,g.bitmap.width,g.bitmap.height,0,0,g.bitmap.width,g.bitmap.height),t.restore(),void(g.bitmap=null);f&&(t.fillStyle=v,t.fill()),0<h&&(t.lineWidth=h,t.strokeStyle=d,t.stroke())}),g.showList.push({type:LShape.RECT,arg:p})},drawArc:function(e,n,i,a,o){var r=this;r.setList.push(function(t){if(t.beginPath(),6<i.length&&i[6]&&t.moveTo(i[0],i[1]),t.arc(i[0],i[1],i[2],i[3],i[4],i[5]),6<i.length&&i[6]&&t.lineTo(i[0],i[1]),r.bitmap)return t.save(),t.clip(),t.drawImage(r.bitmap.image,r.bitmap.x,r.bitmap.y,r.bitmap.width,r.bitmap.height,0,0,r.bitmap.width,r.bitmap.height),t.restore(),void(r.bitmap=null);a&&(t.fillStyle=o,t.fill()),0<e&&(t.lineWidth=e,t.strokeStyle=n,t.stroke())}),r.showList.push({type:LShape.ARC,arg:i})},drawRect:function(e,n,i,a,o){var r=this;r.setList.push(function(t){if(t.beginPath(),t.rect(i[0],i[1],i[2],i[3]),t.closePath(),r.bitmap)return t.save(),t.clip(),t.drawImage(r.bitmap.image,r.bitmap.x,r.bitmap.y,r.bitmap.width,r.bitmap.height,0,0,r.bitmap.width,r.bitmap.height),t.restore(),void(r.bitmap=null);a&&(t.fillStyle=o,t.fill()),0<e&&(t.lineWidth=e,t.strokeStyle=n,t.stroke())}),r.showList.push({type:LShape.RECT,arg:i})},drawRoundRect:function(e,n,i,a,o){var r=this;r.setList.push(function(t){if(t.beginPath(),t.moveTo(i[0]+i[4],i[1]),t.lineTo(i[0]+i[2]-i[4],i[1]),t.arcTo(i[0]+i[2],i[1],i[0]+i[2],i[1]+i[4],i[4]),t.lineTo(i[0]+i[2],i[1]+i[3]-i[4]),t.arcTo(i[0]+i[2],i[1]+i[3],i[0]+i[2]-i[4],i[1]+i[3],i[4]),t.lineTo(i[0]+i[4],i[1]+i[3]),t.arcTo(i[0],i[1]+i[3],i[0],i[1]+i[3]-i[4],i[4]),t.lineTo(i[0],i[1]+i[4]),t.arcTo(i[0],i[1],i[0]+i[4],i[1],i[4]),t.closePath(),r.bitmap)return t.save(),t.clip(),t.drawImage(r.bitmap.image,0,0,r.bitmap.width,r.bitmap.height,0,0,r.bitmap.width,r.bitmap.height),t.restore(),void(r.bitmap=null);a&&(t.fillStyle=o,t.fill()),0<e&&(t.lineWidth=e,t.strokeStyle=n,t.stroke())}),r.showList.push({type:LShape.RECT,arg:i})},drawVertices:function(a,o,r,s,l){var u=this;r.length<3||(u.setList.push(function(t){t.beginPath(),t.moveTo(r[0][0],r[0][1]);var e,n,i=r.length;for(e=1;e<i;e++)n=r[e],t.lineTo(n[0],n[1]);if(t.lineTo(r[0][0],r[0][1]),t.closePath(),u.bitmap)return t.save(),t.clip(),t.drawImage(u.bitmap.image,u.bitmap.x,u.bitmap.y,u.bitmap.width,u.bitmap.height,0,0,u.bitmap.width,u.bitmap.height),t.restore(),void(u.bitmap=null);s&&(t.fillStyle=l,t.fill()),0<a&&(t.lineWidth=a,t.strokeStyle=o,t.closePath(),t.stroke())}),u.showList.push({type:LShape.VERTICES,arg:r}))},drawTriangles:function(c,h,d,p,f){var v,g,L=this,m=h.length;L.setList.push(function(t){var e,n,i=c;for(g=v=0;v<m;v+=3){if(0,t.save(),t.beginPath(),t.moveTo(i[2*h[v]],i[2*h[v]+1]),t.lineTo(i[2*h[v+1]],i[2*h[v+1]+1]),t.lineTo(i[2*h[v+2]],i[2*h[v+2]+1]),t.lineTo(i[2*h[v]],i[2*h[v]+1]),t.closePath(),p&&(t.lineWidth=p,t.strokeStyle=f,t.stroke()),t.clip(),v%6==0){n=-1;var a=(d[2*h[v+1+g]]-d[2*h[v+g]])*L.bitmap.width,o=(d[2*h[v+2]+1]-d[2*h[v]+1])*L.bitmap.height;if(0==g&&a<0){for(e=v+9;e<m;e+=3)if(d[2*h[v+2]+1]==d[2*h[e+2]+1]){g=e-v;break}0==g&&(g=m-v),a=(d[2*h[v+1+g]]-d[2*h[v+g]])*L.bitmap.width}m<=v+g?(a=(d[2*h[v+g-m]]-d[2*h[v+1]])*L.bitmap.width,(n=1==d[2*h[v]]?0:L.bitmap.width*d[2*h[v]]+a)>L.bitmap.width&&(n-=L.bitmap.width)):n=L.bitmap.width*d[2*h[v+g]],sh=L.bitmap.height*d[2*h[v]+1],o<0&&(o=(d[2*h[v+2-(0<v?6:-6)]+1]-d[2*h[v-(0<v?6:-6)]+1])*L.bitmap.height,sh=0);var r=(i[2*h[v+1]]-i[2*h[v]])/a,s=(i[2*h[v+1]+1]-i[2*h[v]+1])/a,l=(i[2*h[v+2]]-i[2*h[v]])/o,u=(i[2*h[v+2]+1]-i[2*h[v]+1])/o;t.transform(r,s,l,u,i[2*h[v]],i[2*h[v]+1]),t.drawImage(L.bitmap.image,L.bitmap.x+n,L.bitmap.y+sh,a,o,0,0,a,o)}else{a=(d[2*h[v+2+g]]-d[2*h[v+1+g]])*L.bitmap.width,o=(d[2*h[v+2]+1]-d[2*h[v]+1])*L.bitmap.height;if(0==g&&a<0){for(e=v+9;e<m;e+=3)if(d[2*h[v+2]+1]==d[2*h[e+2]+1]){g=e-v;break}0==g&&(g=m-v),a=(d[2*h[v+2+g]]-d[2*h[v+1+g]])*L.bitmap.width}m<=v+1+g?(a=(d[2*h[v+1+g-m]]-d[2*h[v+2]])*L.bitmap.width,(n=1==d[2*h[v+1]]?0:L.bitmap.width*d[2*h[v+1]]+a)>L.bitmap.width&&(n-=L.bitmap.width)):n=L.bitmap.width*d[2*h[v+1+g]],sh=L.bitmap.height*d[2*h[v]+1],o<0&&(o=(d[2*h[v+2-(0<v?6:-6)]+1]-d[2*h[v-(0<v?6:-6)]+1])*L.bitmap.height,sh=0);r=(i[2*h[v+2]]-i[2*h[v+1]])/a,s=(i[2*h[v+2]+1]-i[2*h[v+1]+1])/a,l=(i[2*h[v+2]]-i[2*h[v]])/o,u=(i[2*h[v+2]+1]-i[2*h[v]+1])/o;t.transform(r,s,l,u,i[2*h[v+1]],i[2*h[v+1]+1]),t.drawImage(L.bitmap.image,L.bitmap.x+n,L.bitmap.y+sh,a,o,0,-o,a,o)}t.restore()}})},drawLine:function(e,n,i){this.setList.push(function(t){t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineWidth=e,t.strokeStyle=n,t.closePath(),t.stroke()}),this.showList.push({type:LShape.LINE,arg:i})},add:function(t){this.setList.push(t)},ismouseon:function(t,e){return!(null==t||t==UNDEFINED||0==this.showList.length||!this.parent)&&this.parent.ismouseonShapes(this.showList,t.offsetX,t.offsetY)},getWidth:function(){var t,e,n,i,a,o,r,s=this;for(t=0,o=s.showList.length;t<o;t++)if(s.showList[t].type==LShape.RECT)(n>s.showList[t].arg[0]||typeof n==UNDEFINED)&&(n=s.showList[t].arg[0]),(i<s.showList[t].arg[0]+s.showList[t].arg[2]||typeof i==UNDEFINED)&&(i=s.showList[t].arg[0]+s.showList[t].arg[2]);else if(s.showList[t].type==LShape.ARC)(n>s.showList[t].arg[0]-s.showList[t].arg[2]||typeof n==UNDEFINED)&&(n=s.showList[t].arg[0]-s.showList[t].arg[2]),(i<s.showList[t].arg[0]+s.showList[t].arg[2]||typeof i==UNDEFINED)&&(i=s.showList[t].arg[0]+s.showList[t].arg[2]);else if(s.showList[t].type==LShape.VERTICES)for(e=0,r=s.showList[t].arg.length;e<r;e++)(n>(a=s.showList[t].arg[e])[0]||typeof n==UNDEFINED)&&(n=a[0]),(i<a[0]||typeof i==UNDEFINED)&&(i=a[0]);else s.showList[t].type==LShape.LINE?((n>s.showList[t].arg[0]||typeof n==UNDEFINED)&&(n=s.showList[t].arg[0]),(n>s.showList[t].arg[2]||typeof n==UNDEFINED)&&(n=s.showList[t].arg[2]),(i<s.showList[t].arg[0]||typeof i==UNDEFINED)&&(i=s.showList[t].arg[0]),(i<s.showList[t].arg[2]||typeof i==UNDEFINED)&&(i=s.showList[t].arg[2])):s.showList[t].type==LShape.POINT&&((n>s.showList[t].arg[0]||typeof n==UNDEFINED)&&(n=s.showList[t].arg[0]),(i<s.showList[t].arg[0]||typeof i==UNDEFINED)&&(i=s.showList[t].arg[0]));return typeof n==UNDEFINED&&(n=i=0),s.left=n,0<o&&i==n&&(i=n+1),i-n},getHeight:function(){var t,e,n,i,a,o=this,r=null,s=null;for(r=0,t=o.showList.length;r<t;r++)if(o.showList[r].type==LShape.RECT)(n>o.showList[r].arg[1]||typeof n==UNDEFINED)&&(n=o.showList[r].arg[1]),(i<o.showList[r].arg[1]+o.showList[r].arg[3]||typeof i==UNDEFINED)&&(i=o.showList[r].arg[1]+o.showList[r].arg[3]);else if(o.showList[r].type==LShape.ARC)(n>o.showList[r].arg[1]-o.showList[r].arg[2]||typeof n==UNDEFINED)&&(n=o.showList[r].arg[1]-o.showList[r].arg[2]),(i<o.showList[r].arg[1]+o.showList[r].arg[2]||typeof i==UNDEFINED)&&(i=o.showList[r].arg[1]+o.showList[r].arg[2]);else if(o.showList[r].type==LShape.VERTICES)for(s=0,e=o.showList[r].arg.length;s<e;s++)(n>(a=o.showList[r].arg[s])[1]||typeof n==UNDEFINED)&&(n=a[1]),(i<a[1]||typeof i==UNDEFINED)&&(i=a[1]);else o.showList[r].type==LShape.LINE?((n>o.showList[r].arg[1]||typeof n==UNDEFINED)&&(n=o.showList[r].arg[1]),(n>o.showList[r].arg[3]||typeof n==UNDEFINED)&&(n=o.showList[r].arg[3]),(i<o.showList[r].arg[1]||typeof i==UNDEFINED)&&(i=o.showList[r].arg[1]),(i<o.showList[r].arg[3]||typeof i==UNDEFINED)&&(i=o.showList[r].arg[3])):o.showList[r].type==LShape.POINT&&((n>o.showList[r].arg[1]||typeof n==UNDEFINED)&&(n=o.showList[r].arg[1]),(i<o.showList[r].arg[1]||typeof i==UNDEFINED)&&(i=o.showList[r].arg[1]));return typeof n==UNDEFINED&&(n=i=0),o.top=n,0<t&&i==n&&(i=n+1),i-n},startX:function(){return this.getWidth(),this.left},startY:function(){return this.getHeight(),this.top}};for(var e in t)o.prototype[e]=t[e];return o}(),LShape=function(){function e(){var t=this;LExtends(t,LInteractiveObject,[]),t.type="LShape",t.graphics=new LGraphics,t.graphics.parent=t}e.POINT="point",e.LINE="line",e.ARC="arc",e.RECT="rect",e.VERTICES="vertices";var t={_ll_show:function(t){this.graphics.ll_show(t)},getWidth:function(t){var e,n,i=this,a=i.graphics.startX(),o=a+i.graphics.getWidth();return t&&i.mask&&(a<(e=i.mask._startX?i.mask._startX():i.mask.startX())&&(a=e),e+(n=i.mask.getWidth())<o&&(o=e+n)),i.ll_left=i.x+a,i.ll_right=i.x+o,(o-a)*i.scaleX},getHeight:function(t){var e,n,i=this,a=i.graphics.startY(),o=a+i.graphics.getHeight();return t&&i.mask&&(a<(e=i.mask._startY?i.mask._startY():i.mask.startY())&&(a=e),e+(n=i.mask.getHeight())<o&&(o=e+n)),i.ll_top=i.y+a,i.ll_bottom=i.y+o,(o-a)*i.scaleY},_startX:function(){return this.getWidth(),this.ll_left},startX:function(){return this._startX()*this.scaleX},_startY:function(){return this.getHeight(),this.ll_top},startY:function(){return this._startY()*this.scaleY},clone:function(){var t=new e;return t.copyProperty(this),t.graphics=this.graphics.clone(),t.graphics.parent=t},ismouseon:function(t,e){var n,i=this,a=!1;return!(!i.visible||null==t)&&(!(i.mask&&(i.mask.parent||(i.mask.parent=i.parent),!i.mask.ismouseon(t,e)))&&(n={x:i.x*e.scaleX+e.x,y:i.y*e.scaleY+e.y,scaleX:e.scaleX*i.scaleX,scaleY:e.scaleY*i.scaleY},i.graphics&&(a=i.graphics.ismouseon(t,n)),a))},die:function(){this.graphics.clear()}};for(var n in t)e.prototype[n]=t[n];return e}(),LSprite=function(){function o(){var t=this;LExtends(t,LDisplayObjectContainer,[]),t.type="LSprite",t.rotatex,t.rotatey,t.graphics=new LGraphics,(t.graphics.parent=t).box2dBody=null,t.shapes=new Array,t.dragRange=null,t.useCursor=null}var t={setRotate:function(t){this.box2dBody?this.box2dBody.SetAngle(t):this.rotate=t},_rotateReady:function(){var t=this;t.box2dBody&&(typeof t.rotatex==UNDEFINED&&t.getRotateXY(),t.x=t.box2dBody.GetPosition().x*LGlobal.box2d.drawScale-t.parent.x-t.rotatex,t.y=t.box2dBody.GetPosition().y*LGlobal.box2d.drawScale-t.parent.y-t.rotatey,t.rotate=t.box2dBody.GetAngle())},_ll_show:function(t){this.graphics.ll_show(t),LGlobal.show(this.childList,t),this._ll_debugShape(t)},startDrag:function(t){var e=this;e.ll_dragStart||(e.ll_touchPointID=t,e.ll_dragGlobalPoint=e.parent.localToGlobal(new LPoint(e.x,e.y)),e.ll_dragMX=mouseX,e.ll_dragMY=mouseY,e.ll_dragStart=!0,LGlobal.dragList.push(e))},stopDrag:function(){var t,e;for(t=0,e=LGlobal.dragList.length;t<e;t++)if(this.objectIndex==LGlobal.dragList[t].objectIndex){this.ll_dragStart=!1,LGlobal.dragList.splice(t,1);break}},getRotateXY:function(t,e){t&&e||(t=this.getWidth(),e=this.getHeight()),this.rotatex=t/2,this.rotatey=e/2},getWidth:function(t){var e,n,i,a,o,r,s,l=this,u=l.graphics.startX(),c=u+l.graphics.getWidth();for(e=0,n=l.childList.length;e<n;e++)typeof(i=l.childList[e]).visible!=UNDEFINED&&i.visible&&(a=i.x,"function"==typeof i._startX&&(a=i._startX(t)),a<u&&(u=a),c<(o=a+i.getWidth(t))&&(c=o));return t&&l.mask?(u<(r=l.mask._startX?l.mask._startX():l.mask.startX())&&(u=r),r+(s=l.mask.getWidth())<c&&(c=r+s),l.ll_left=u,l.ll_right=c):(l.ll_left=l.x+u,l.ll_right=l.x+c),(c-u)*l.scaleX},getHeight:function(t){var e,n,i,a,o,r,s,l=this,u=l.graphics.startY(),c=u+l.graphics.getHeight();for(e=0,n=l.childList.length;e<n;e++)typeof(i=l.childList[e]).visible!=UNDEFINED&&i.visible&&(a=i.y,"function"==typeof i._startY&&(a=i._startY(t)),a<u&&(u=a),c<(o=a+i.getHeight(t))&&(c=o));return t&&l.mask?(u<(r=l.mask._startY?l.mask._startY():l.mask.startY())&&(u=r),r+(s=l.mask.getHeight())<c&&(c=r+s),l.ll_top=u,l.ll_bottom=c):(l.ll_top=l.y+u,l.ll_bottom=l.y+c),(c-u)*l.scaleY},_startX:function(t){return this.getWidth(t),this.ll_left},startX:function(t){return this._startX(t)*this.scaleX},_startY:function(t){return this.getHeight(t),this.ll_top},startY:function(t){return this._startY(t)*this.scaleY},_ll_loopframe:function(){this.dispatchEvent(LEvent.ENTER_FRAME)},clone:function(){var t,e,n,i,a=new o;for(a.copyProperty(this),a.graphics=this.graphics.clone(),n=(a.graphics.parent=a).childList.length=0,i=this.childList.length;n<i;n++)(t=this.childList[n]).clone&&((e=t.clone()).parent=a).childList.push(e);return a},_mevent:function(t){var e;for(e=0;e<this.mouseList.length;e++){if(this.mouseList[e].type==t)return!0}return!1},ll_dispatchMouseEvent:function(t,e,n,i,a){var o=this;if(o.mouseEnabled)for(s=0;s<o.mouseList.length;s++){var r=o.mouseList[s];r.type==t&&(e.selfX=(i-(o.x*n.scaleX+n.x))/(n.scaleX*o.scaleX),e.selfY=(a-(o.y*n.scaleY+n.y))/(n.scaleY*o.scaleY),e.currentTarget=e.clickTarget=o,e.target||(e.target=o),r.listener(e,o))}},ll_mouseout:function(t,e,n,i,a){var o=this;if(e==LMouseEvent.MOUSE_MOVE&&o.ll_mousein&&(o.ll_mousein=!1,o._mevent(LMouseEvent.MOUSE_OUT)&&o.ll_dispatchMouseEvent(LMouseEvent.MOUSE_OUT,t,n,i,a),o.mouseChildren))for(var r=o.childList.length-1;0<=r;r--)o.childList[r].mouseEvent&&o.childList[r].ll_mouseout&&o.childList[r].ll_mouseout(t,e,n,i,a)},mouseEvent:function(t,e,n){if(!t)return!1;var i,a,o=this,r=t.offsetX,s=t.offsetY;if(!o.visible)return!1;if(null==n&&(n={x:0,y:0,scaleX:1,scaleY:1}),o.ismouseon(t,n)){if(LGlobal.os==OS_PC&&o.useCursor&&e==LMouseEvent.MOUSE_MOVE&&(LGlobal.cursor=o.useCursor),e!=LMouseEvent.MOUSE_MOVE||o.ll_mousein||(o.ll_mousein=!0,o._mevent(LMouseEvent.MOUSE_OVER)&&o.ll_dispatchMouseEvent(LMouseEvent.MOUSE_OVER,t,n,r,s)),o.mouseChildren){for(a={x:o.x*n.scaleX+n.x,y:o.y*n.scaleY+n.y,scaleX:n.scaleX*o.scaleX,scaleY:n.scaleY*o.scaleY},i=o.childList.length-1;0<=i&&(!o.childList[i].mouseEvent||!o.childList[i].mouseEvent(t,e,a)||(t.target=o.childList[i],e==LMouseEvent.MOUSE_MOVE));i--);o._mevent(e)&&o.ll_dispatchMouseEvent(e,t,n,r,s)}return!0}return o.ll_mouseout(t,e,n,r,s),!1},hitTestPoint:function(t,e){var n=this,i=n.shapes;return i&&0!=i.length||(n.getWidth(),n.getHeight(),i=[{type:LShape.RECT,arg:[n.ll_left-n.x,n.ll_top-n.y,n.ll_right-n.ll_left,n.ll_bottom-n.ll_top]}]),n.ismouseonShapes(i,t,e)},hitTestObject:function(t){var e,n,i,a,o,r,s,l,u=this,c=u.shapes,h=t.shapes;for(c&&0!=c.length||(u.getWidth(),u.getHeight(),c=[{type:LShape.RECT,arg:[u.ll_left-u.x,u.ll_top-u.y,u.ll_right-u.ll_left,u.ll_bottom-u.ll_top]}]),h&&0!=h.length||(t.getWidth(),t.getHeight(),h=[{type:LShape.RECT,arg:[t.ll_left-t.x,t.ll_top-t.y,t.ll_right-t.ll_left,t.ll_bottom-t.ll_top]}]),e=u.getRootMatrix(),n=t.getRootMatrix(),i=c.length-1;0<=i;i--)for(a=c[i],l=u._changeShape(a.type,a.arg,e),o=h.length-1;0<=o;o--)if(r=h[o],s=t._changeShape(r.type,r.arg,n),a.type==LShape.VERTICES||a.type==LShape.RECT){if(r.type==LShape.VERTICES||r.type==LShape.RECT){if(LGlobal.hitTestPolygon(l,s))return!0}else if(r.type==LShape.ARC&&LGlobal.hitTestPolygonArc(l,s))return!0}else if(r.type==LShape.VERTICES||r.type==LShape.RECT){if(LGlobal.hitTestPolygonArc(s,l))return!0}else if(r.type==LShape.ARC&&Math.sqrt((l[0]-s[0])*(l[0]-s[0])+(l[1]-s[1])*(l[1]-s[1]))<l[2]+s[2])return!0;return!1},addShape:function(t,e){if(!(t==LShape.VERTICES&&e.length<3))return this.shapes.push({type:t,arg:e}),this.shapes},addShapes:function(t){0==this.shapes.length?this.shapes=t:this.shapes=this.shapes.concat(t)},clearShape:function(){this.shapes=[]},_ll_debugShape:function(t){var e,n,i,a,o,r;if(LGlobal.traceDebug&&this.shapes&&0!=this.shapes.length)for(e=0,n=this.shapes.length;e<n;e++){if(i=this.shapes[e],t=t||LGlobal.canvas,a=i.arg,t.beginPath(),i.type==LShape.RECT)t.rect(a[0],a[1],a[2],a[3]);else if(i.type==LShape.ARC)t.arc(a[0],a[1],a[2],0,2*Math.PI);else if(i.type==LShape.VERTICES){for(t.moveTo(a[0][0],a[0][1]),o=1,r=a.length;o<r;o++)t.lineTo(a[o][0],a[o][1]);t.lineTo(a[0][0],a[0][1])}t.closePath(),t.strokeStyle="#00FF00",t.stroke()}},ismouseon:function(t,e){var n=this;if(!n.visible||null==t)return!1;if(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(t,e)))return!1;if(n.shapes&&0<n.shapes.length)return n.ismouseonShapes(n.shapes,t.offsetX,t.offsetY);var i,a=!1,o=n.childList,r={x:n.x*e.scaleX+e.x,y:n.y*e.scaleY+e.y,scaleX:e.scaleX*n.scaleX,scaleY:e.scaleY*n.scaleY};for(i=o.length-1;0<=i;i--)if(o[i].ismouseon&&(a=o[i].ismouseon(t,r)),a){t.target=n.childList[i];break}return a||(a=n.graphics.ismouseon(t,r)),a},die:function(){var t,e,n,i=this;for(i.graphics.clear(),i.removeAllEventListener(),i.stopDrag(),i.box2dBody&&i.clearBody(),t=0,n=(e=i.childList).length;t<n;t++)e[t].die&&e[t].die()}};for(var s in t)o.prototype[s]=t[s];return o}(),LButton=function(){function h(t,e,n,i){var a=this;LExtends(a,LSprite,[]),a.type="LButton",a.addChild(t),e?a.addChild(e):e=t,n?a.addChild(n):n=e,i?a.addChild(i):i=t,a.upState=a.bitmap_up=t,a.overState=a.bitmap_over=e,a.downState=n,a.disableState=i,a._ll_down_sx=a.downState.scaleX,a._ll_down_sy=a.downState.scaleY,a.overState.visible=!1,a.downState.visible=!1,a.upState.visible=!0,a.buttonMode=!0,a.staticMode=!1,a.setState(h.STATE_ENABLE),LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&LMouseEventContainer.pushButton(a),a.addEventListener(LMouseEvent.MOUSE_DOWN,a.ll_modeDown),a.setCursorEnabled(!0)}h.STATE_DISABLE="disable",h.STATE_ENABLE="enable";var t={setState:function(t){var e=this;if(t==h.STATE_DISABLE)e.upState.visible=!1,e.overState.visible=!1,e.downState.visible=!1,e.disableState.visible=!0,e.mouseEnabled=!1;else{if(t!=h.STATE_ENABLE)return;e.overState.visible=!1,e.downState.visible=!1,e.disableState.visible=!1,e.upState.visible=!0,e.mouseEnabled=!0}e.state=t},ll_mouseout:function(t,e,n,i,a){this.ll_mousein&&((t.clickTarget=this).ll_modeOut(t),this.ll_mousein=!1)},mouseEvent:function(t,e,n){if(!t)return!1;return e==LMouseEvent.MOUSE_MOVE&&this.ll_button_mode&&this.ll_button_mode(t),this.callParent("mouseEvent",arguments)},ll_button_mode:function(t){var e=this;e.visible&&((t.clickTarget=e).hitTestPoint(t.offsetX,t.offsetY)?e.ll_modeOver(t):e.ll_modeOut(t))},ll_modeDown:function(t){var e,n,i,a,o,r,s,l,u,c=t.clickTarget;if(c.buttonMode&&!c.tween){if(c.state==h.STATE_DISABLE)return c.upState.visible=!1,c.overState.visible=!1,c.downState.visible=!1,void(c.disableState.visible=!0);c.upState.visible=!1,c.overState.visible=!1,c.downState.visible=!0,c._tweenOver=c.ll_modeOver,u=function(t){var e=t.parent;delete e.tween,e._tweenOver({clickTarget:e}),delete e._tweenOver},c.staticMode?c.tween=LTweenLiteTimeline.to(c.downState,.3,{}).to(c.downState,.1,{onComplete:u}):(i=1.1*(e=c.downState.getWidth()),a=1.1*(n=c.downState.getHeight()),s=(o=c.downState.x)+.5*(e-i),l=(r=c.downState.y)+.5*(n-a),c.tween=LTweenLiteTimeline.to(c.downState,.3,{x:s,y:l,scaleX:1.1*c._ll_down_sx,scaleY:1.1*c._ll_down_sy,ease:Quart.easeOut}).to(c.downState,.1,{x:o,y:r,scaleX:c._ll_down_sx,scaleY:c._ll_down_sy,ease:Quart.easeOut,onComplete:u}))}},ll_modeOver:function(t){var e=t.clickTarget;if(e.buttonMode)if(e.tween)e._tweenOver=e.ll_modeOver;else{if(e.state==h.STATE_DISABLE)return e.upState.visible=!1,e.overState.visible=!1,e.downState.visible=!1,void(e.disableState.visible=!0);e.upState.visible=!1,e.downState.visible=!1,e.overState.visible=!0}},ll_modeOut:function(t){var e=t.clickTarget;if(e.buttonMode)if(e.tween)e._tweenOver=e.ll_modeOut;else{if(e.state==h.STATE_DISABLE)return e.upState.visible=!1,e.overState.visible=!1,e.downState.visible=!1,void(e.disableState.visible=!0);e.overState.visible=!1,e.downState.visible=!1,e.upState.visible=!0}},setCursorEnabled:function(t){this.useCursor=t?"pointer":null},clone:function(){return new h(this.upState.clone(),this.overState.clone(),this.downState.clone(),this.disableState.clone())},die:function(){LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&LMouseEventContainer.removeButton(this),this.callParent("die",arguments)}};for(var e in t)h.prototype[e]=t[e];return h}();function LBlendMode(){throw"LBlendMode cannot be instantiated"}LBlendMode.SOURCE_OVER="source-over",LBlendMode.SOURCE_ATOP="source-atop",LBlendMode.SOURCE_IN="source-in",LBlendMode.SOURCE_OUT="source-out",LBlendMode.DESTINATION_OVER="destination-over",LBlendMode.DESTINATION_ATOP="destination-atop",LBlendMode.DESTINATION_IN="destination-in",LBlendMode.DESTINATION_OUT="destination-out",LBlendMode.LIGHTER="lighter",LBlendMode.COPY="copy",LBlendMode.XOR="xor",LBlendMode.NONE=null,LBlendMode.NORMAL=null;var LTextFieldType=function(){throw"LTextFieldType cannot be instantiated"};LTextFieldType.INPUT="input",LTextFieldType.DYNAMIC=null,LStyleSheet=function(){function t(){LExtends(this,LObject,[]),this.styleIndex=0,this.styleNames={}}return t.prototype.clone=function(){var t=new this.constructor;return t.copyProperty(this),t},t.prototype.setStyle=function(t,e){if(this.styleIndex++,null!==e){var n,i=e.replace(/(^\{)|(\}$)/g,"").split(";");for(e={},n=0;n<i.length;n++){var a;if(i[n])(a=i[n].split(":"))[0]&&(e[a[0]]=a[1])}this.styleNames[t]=e}else this.styleNames[t]&&delete this.styleNames[t]},t.prototype.getStyle=function(t){return this.styleNames[t]},t}(),LTextFormat=function(){function t(t,e,n,i,a,o){var r=this;LExtends(r,LObject,[]),r.font=t||"Arial",r.size=e||15,r.color=n||"#000000",r.bold=i||!1,r.italic=a||!1,r.underline=o||!1}return t.prototype.clone=function(){var t=new this.constructor;return t.copyProperty(this),t},t.prototype.getFontText=function(){return(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.size+"px "+this.font},t.prototype.setCss=function(t){var e,n=this;for(e in t)switch(e){case"color":n.color=t[e];break;case"font-family":n.font=t[e];break;case"font-size":n.size=t[e];break;case"font-style":n.italic="italic"==t[e];break;case"font-weight":n.bold="bold"==t[e];break;case"text-decoration":n.color="underline"==t[e]}},t}();var LTweenLiteTimeline,LTextField=function(){function d(){var t=this;LExtends(t,LInteractiveObject,[]),t.type="LTextField",t.texttype=null,t.text="",t.htmlText="",t.styleSheet="",t.font="Arial",t.size=15,t.color="#000000",t.weight="normal",t.textAlign="left",t.textBaseline="top",t.heightMode=d.HEIGHT_MODE_BOTTOM,t.stroke=!1,t.lineWidth=1,t.lineColor="#000000",t.width=150,t.height=t.size,t.displayAsPassword=!1,t.wordWrap=!1,t.multiline=!1,t.numLines=1,t.speed=0,t._speedIndex=100}d.HEIGHT_MODE_BOTTOM="bottom",d.HEIGHT_MODE_BASELINE="baseline";var t={_showReady:function(t){var e=this;t.font=e.weight+" "+e.size+"px "+e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline},ll_getStyleSheet:function(t,e,n,i){var a=this,o=t.clone();if("font"==e)for(var r=0;n&&!(4<r++);){if(!(l=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n))||!l[0])break;switch(l[2]){case"face":o.font=l[6];break;case"color":o.color=l[6];break;case"size":o.size=l[6]}n=n.replace(l[0],"").replace(/(^\s*)|(\s*$)|(\n)/g,"")}else if("b"==e)o.bold=!0;else if("u"==e)o.underline=!0;else if("i"==e)o.italic=!0;else if("p"==e&&a.wordWrap)i="\n"+i+"\n";else if(a.styleSheet){var s,l;if("span"==e){if((l=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n))&&l[0])switch(l[2]){case"class":s=a.styleSheet.getStyle("."+l[6])}}else a.styleSheet.getStyle(e)&&(s=a.styleSheet.getStyle(e));s&&o.setCss(s)}a.ll_getHtmlText(o,i)},ll_getHtmlText:function(t,e){if(e){var n,i,a,o,r=/<(.*?)(\s*)(.*?)>(.*?)<\/\1>/g.exec(e);if(r&&r[0]){for(0<r.index&&this.ll_htmlTexts.push({textFormat:t.clone(),text:e.substring(0,r.index)}),n=r[1],o=a=r.index;o=e.indexOf("</"+n,o+1),0<(a=e.indexOf("<"+n,a+1))&&a<o;);i=e.substring(e.indexOf(">",r.index)+1,o),this.ll_getStyleSheet(t,n,r[3],i),this.ll_getHtmlText(t,e.substring(o+n.length+3))}else this.ll_htmlTexts.push({textFormat:t.clone(),text:e})}},_ll_show:function(i){var t,a,e,o,r,s,l,u,n,c,h=this;if(h.texttype==LTextFieldType.INPUT){if(h.inputBackLayer.ll_show(),e=h.getRootCoordinate(),LGlobal.inputBox.name=="input"+h.objectIndex&&(LGlobal.inputBox.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+((e.y+h.inputBackLayer.startY())*parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height>>>0)+"px",LGlobal.inputBox.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+((e.x+h.inputBackLayer.startX())*parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width>>>0)+"px"),LGlobal.inputTextField&&LGlobal.inputTextField.objectIndex==h.objectIndex)return;i.clip()}if(LGlobal.fpsStatus&&LGlobal.fpsStatus.text++,i.fillStyle=h.color,h.stroke&&(i.strokeStyle=h.lineColor,i.lineWidth=h.lineWidth+1),h.htmlText)return(h.ll_htmlText!=h.htmlText||h.styleSheet&&(h.ll_style_objectIndex!=h.styleSheet.objectIndex||h.ll_styleIndex==h.styleSheet.styleIndex))&&(n=new LTextFormat,h.ll_htmlTexts=[],h.ll_htmlText=h.htmlText,h.styleSheet&&(h.ll_style_objectIndex=h.styleSheet.objectIndex,h.ll_styleIndex=h.styleSheet.styleIndex),h.ll_getHtmlText(n,h.htmlText)),l=s=o=0,h._ll_height=h.wordHeight||30,d.underlineY||(d.underlineY={alphabetic:0,top:1,bottom:-.2,middle:.4,hanging:.8}),void h.ll_htmlTexts.forEach(function(t){var e=t.textFormat,n=t.text;for(i.font=e.getFontText(),i.fillStyle=e.color,a=0,r=n.length;a<r;a++)/(?:\r\n|\r|\n|n)/.exec(n.substr(a,1))?(o=0,s=a+1,l++):(u=1.2*i.measureText("O").width,h.stroke&&i.strokeText(n.substr(a,1),o,l*h._ll_height),i.fillText(n.substr(a,1),o,l*h._ll_height),e.underline&&(i.beginPath(),c=l*h._ll_height+u*d.underlineY[h.textBaseline],i.moveTo(o,c),i.lineTo(o+i.measureText(n.substr(a,1)).width,c),i.stroke())),o+=i.measureText(n.substr(a,1)).width,h.wordWrap&&o+i.measureText(n.substr(a+1,1)).width>h.width&&(o=0,s=a+1,l++);h.height=(l+1)*h._ll_height});if(t=h.text,h.displayAsPassword)for(t="",a=0,r=h.text.length;a<r;a++)t+="*";if(h.wordWrap||h.multiline){for(a=l=s=o=0,r=h.text.length;a<r;a++)/(?:\r\n|\r|\n|n)/.exec(t.substr(a,1))?(o=0,s=a+1,l++):(h.stroke&&i.strokeText(t.substr(a,1),o,l*h.wordHeight),i.fillText(t.substr(a,1),o,l*h.wordHeight)),h.numLines=l,o=i.measureText(h.text.substr(s,a+1-s)).width,h.wordWrap&&o+i.measureText(t.substr(a,1)).width>h.width&&(o=0,s=a+1,l++);h.height=(l+1)*h.wordHeight}else h.numLines=1,h.stroke&&i.strokeText(t,0,0,i.measureText(t).width),i.fillText(t,0,0,i.measureText(t).width);h.windRunning&&h._ll_windRun()},_wordHeight:function(t){var e=this;e.wordHeight=0<t?t:(e.wordWrap=!1,e.getHeight()),e.height=0},setMultiline:function(t,e){t&&this._wordHeight(e),this.multiline=t},setWordWrap:function(t,e){t&&this._wordHeight(e),this.wordWrap=t},setType:function(t,e){var n=this;n.texttype!=t&&t==LTextFieldType.INPUT?(null==e||"LSprite"!=e.type?(n.inputBackLayer=new LSprite,n.inputBackLayer.graphics.drawRect(1,"#000000",[0,.4*-n.getHeight(),n.width,1.5*n.getHeight()])):n.inputBackLayer=e,n.inputBackLayer.parent=n,LMouseEventContainer.container[LMouseEvent.MOUSE_DOWN]&&LMouseEventContainer.pushInputBox(n)):(n.inputBackLayer=null,LMouseEventContainer.removeInputBox(n)),n.texttype=t},ismouseon:function(t,e){var n=this;return!!t&&(!!n.visible&&(e||(e={x:0,y:0,scaleX:1,scaleY:1}),!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(t,e)))&&(n.inputBackLayer?n.inputBackLayer.ismouseon(t,{x:n.x*e.scaleX+e.x,y:n.y*e.scaleY+e.y,scaleX:e.scaleX*n.scaleX,scaleY:e.scaleY*n.scaleY}):n.ismouseonShapes([{type:LShape.RECT,arg:[0,0,n._getWidth(),n._getHeight()]}],t.offsetX,t.offsetY))))},clone:function(){var t=new this.constructor;return t.copyProperty(this),t.texttype=null,this.texttype==LTextFieldType.INPUT&&t.setType(LTextFieldType.INPUT),t},mouseEvent:function(t,e,n){null!=this.inputBackLayer&&e==LMouseEvent.MOUSE_DOWN&&this.ismouseon(t,n)&&this.focus()},_ll_getValue:function(){LGlobal.inputBox.style.display!=NONE&&(LGlobal.inputTextField.text=LGlobal.inputTextBox.value,LEvent.removeEventListener(LGlobal.inputTextBox,LKeyboardEvent.KEY_DOWN,LGlobal.inputTextField._ll_input),LGlobal.inputBox.style.display=NONE,LGlobal.inputTextField.dispatchEvent(LFocusEvent.FOCUS_OUT),LGlobal.inputTextField=null)},updateInput:function(){this.texttype==LTextFieldType.INPUT&&LGlobal.inputTextField.objectIndex==this.objectIndex&&(LGlobal.inputTextBox.value=LGlobal.inputTextField.text)},_ll_input:function(t){var e=new LEvent(LTextEvent.TEXT_INPUT);e.keyCode=t.keyCode,LGlobal.inputTextField.text=LGlobal.inputTextBox.value,LGlobal.inputTextField.hasEventListener(LTextEvent.TEXT_INPUT)?t.returnValue=LGlobal.inputTextField.dispatchEvent(e):t.returnValue=!0},focus:function(){var t,e,n=this;n.parent&&n.texttype==LTextFieldType.INPUT&&(LGlobal.inputTextField&&LGlobal.inputTextField.objectIndex!=n.objectIndex&&n._ll_getValue(),n.dispatchEvent(LFocusEvent.FOCUS_IN),t=n.getAbsoluteScale(),LGlobal.inputBox.style.display="",LGlobal.inputBox.name="input"+n.objectIndex,LGlobal.inputTextField=n,LGlobal.inputTextareaBoxObj.style.display=NONE,LGlobal.inputTextBoxObj.style.display=NONE,LGlobal.passwordBoxObj.style.display=NONE,n.displayAsPassword?LGlobal.inputTextBox=LGlobal.passwordBoxObj:n.multiline?LGlobal.inputTextBox=LGlobal.inputTextareaBoxObj:LGlobal.inputTextBox=LGlobal.inputTextBoxObj,e=parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width,sy=parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height,LGlobal.inputTextBox.style.display="",LGlobal.inputTextBox.value=n.text,LGlobal.inputTextBox.style.height=n.inputBackLayer.getHeight()*t.scaleY*n.scaleY*sy+"px",LGlobal.inputTextBox.style.width=n.inputBackLayer.getWidth()*t.scaleX*n.scaleX*e+"px",LGlobal.inputTextBox.style.color=n.color,LGlobal.inputTextBox.style.fontSize=(n.size*parseFloat(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height>>0)+"px",LGlobal.inputTextBox.style.fontFamily=n.font,LEvent.addEventListener(LGlobal.inputTextBox,LKeyboardEvent.KEY_DOWN,LGlobal.inputTextField._ll_input),n.texttype==LTextFieldType.INPUT&&(rc=n.getRootCoordinate(),LGlobal.inputBox.name=="input"+n.objectIndex&&(LGlobal.inputBox.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+((rc.y+n.inputBackLayer.startY())*parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height>>>0)+"px",LGlobal.inputBox.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+((rc.x+n.inputBackLayer.startX())*parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width>>>0)+"px")),setTimeout(function(){LGlobal.inputTextBox.focus()},0))},_getWidth:function(){var t=this;return t.wordWrap?t.width:(LGlobal.canvas.font=t.size+"px "+t.font,LGlobal.canvas.measureText(t.text).width)},getWidth:function(t){var e,n,i,a=this;return e=a._getWidth()*a.scaleX,t&&a.mask?e<(n=a.mask._startX?a.mask._startX():a.mask.startX())?0:e<n+(i=a.mask.getWidth())?e-n:i:e},_getHeight:function(){var t,e,n,i,a,o=this,r=LGlobal.canvas;if(o.wordWrap){if(r.font=o.weight+" "+o.size+"px "+o.font,0==o.height){for(t=a=i=n=0,e=o.text.length;t<e;t++)/(?:\r\n|\r|\n|n)/.exec(o.text.substr(t,1))&&(n=0,i=t+1,a++),n=r.measureText(o.text.substr(i,t+1-i)).width,o.wordWrap&&n+r.measureText(o.text.substr(t+1,1)).width>o.width&&(n=0,i=t+1,a++);o.height=(a+1)*o.wordHeight}return o.height}return r.font=o.weight+" "+o.size+"px "+o.font,e=1.2*r.measureText("O").width,o.heightMode==d.HEIGHT_MODE_BASELINE&&(e*=1.2),e},getHeight:function(t){var e,n,i,a=this;return e=a._getHeight()*a.scaleY,t&&a.mask?e<(n=a.mask._startY?a.mask._startY():a.mask.startY())?0:e<n+(i=a.mask.getHeight())?e-n:i:e},wind:function(t){var e=this;e.wind_over_function=t,e.windRunning=!0,e._ll_wind_text=e.text,e.text="",e._ll_wind_length=0},_ll_windRun:function(){var t=this;if(!(t._speedIndex++<t.speed)){if(t._speedIndex=0,t._ll_wind_length>t._ll_wind_text.length)return t.windRunning=!1,t.wind_over_function&&t.wind_over_function(),void t.dispatchEvent(new LEvent(LTextEvent.WIND_COMPLETE));t.text=t._ll_wind_text.substring(0,t._ll_wind_length),t._ll_wind_length++}},die:function(){LMouseEventContainer.removeInputBox(this)}};for(var e in t)d.prototype[e]=t[e];return d}(),LBitmap=function(){function e(t){var e=this;LExtends(e,LDisplayObject,[]),e.type="LBitmap",e.rotateCenter=!0,e.bitmapData=t,e.bitmapData&&(e.width=e.bitmapData.width,e.height=e.bitmapData.height)}var t={_canShow:function(){return this.visible&&this.bitmapData},_rotateReady:function(){var t=this;0!=t.rotate&&t.rotateCenter?(t.rotatex=.5*t.getWidth(),t.rotatey=.5*t.getHeight()):t.rotatex=t.rotatey=0},_coordinate:function(t){},_ll_show:function(t){this.ll_draw(t)},ll_draw:function(t){var e=this;LGlobal.fpsStatus&&LGlobal.fpsStatus.bitmapData++,t.drawImage(e.bitmapData.image,e.bitmapData.x,e.bitmapData.y,e.bitmapData.width,e.bitmapData.height,e.x,e.y,e.bitmapData.width,e.bitmapData.height)},clone:function(){var t=new e(this.bitmapData.clone());return t.copyProperty(this),t.rotateCenter=this.rotateCenter,t},ismouseon:function(t,e){var n=this;return!!t&&(!(!n.visible||!n.bitmapData)&&(!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(t,e)))&&n.ismouseonShapes([{type:LShape.RECT,arg:[0,0,n.bitmapData.width,n.bitmapData.height]}],t.offsetX,t.offsetY)))},getWidth:function(t){var e,n,i,a=this;return e=null!=a.bitmapData?a.bitmapData.width*(0<a.scaleX?a.scaleX:-a.scaleX):0,t&&a.mask?e<(n=a.mask._startX?a.mask._startX():a.mask.startX())?0:e<n+(i=a.mask.getWidth())?e-n:i:e},getHeight:function(t){var e,n,i,a=this;return e=null!=a.bitmapData?a.bitmapData.height*(0<a.scaleY?a.scaleY:-a.scaleY):0,t&&a.mask?e<(n=a.mask._startY?a.mask._startY():a.mask.startY())?0:e<n+(i=a.mask.getHeight())?e-n:i:e},startX:function(){return this.x},startY:function(){return this.y},die:function(){}};for(var n in t)e.prototype[n]=t[n];return e}(),LBitmapData=function(){function f(t,e,n,i,a,o){var r=this;if(LExtends(r,LObject,[]),r.type="LBitmapData",typeof o==UNDEFINED&&(o=f.DATA_IMAGE),r.oncomplete=null,r._locked=!1,r._setPixel=!1,r.x=null==e?0:e,r.y=null==n?0:n,r.width=0,r.height=0,r.dataType=null,t&&"object"==typeof t)r.image=t,r.dataType=f.DATA_IMAGE,r.width=null==i?r.image.width:i,r.height=null==a?r.image.height:a,r._setDataType(o);else{if(r._createCanvas(),r.dataType=f.DATA_CANVAS,r._canvas.width=r.width=i||1,r._canvas.height=r.height=a||1,"string"==typeof t)r._context.fillStyle=t,r._context.fillRect(0,0,r.width,r.height);else if("number"==typeof t){for(var s=r._context.createImageData(r.width,r.height),l=0;l<s.data.length;l+=4)s.data[l+0]=t>>16&255,s.data[l+1]=t>>8&255,s.data[l+2]=255&t,s.data[l+3]=255;r._context.putImageData(s,0,0)}r.image=r._canvas,o==f.DATA_IMAGE&&r._setDataType(o)}r.resize()}f.DATA_IMAGE="data_image",f.DATA_CANVAS="data_canvas";var t={_setDataType:function(t){var e=this;e.dataType!=t&&(t==f.DATA_CANVAS?(e._createCanvas(),e._canvas.width=e.image.width,e._canvas.height=e.image.height,e._context.clearRect(0,0,e._canvas.width,e._canvas.height),e._context.drawImage(e.image,0,0),e.image=e._canvas):t==f.DATA_IMAGE&&(e.image=new Image,e.image.width=e._canvas.width,e.image.height=e._canvas.height,e.image.src=e._canvas.toDataURL()),e.dataType=t)},_createCanvas:function(){this._canvas||(this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"))},clear:function(t){var e=this;e._createCanvas(),t?e._context.clearRect(t.x,t.y,t.width,t.height):e._canvas.width=e.image.width,e.dataType==f.DATA_IMAGE&&(e.image.src=e._canvas.toDataURL())},setProperties:function(t,e,n,i){var a=this;a.x=t,a.y=e,a.width=n,a.height=i,a.resize()},setCoordinate:function(t,e){this.x=t,this.y=e,this.resize()},clone:function(){var t=this;return new f(t.image,t.x,t.y,t.width,t.height,t.dataType)},_ready:function(){var t=this;t._dataType=t.dataType,t._setDataType(f.DATA_CANVAS),t._data=t._context.getImageData(t.x,t.y,t.width,t.height)},_update:function(){var t=this;t._context.putImageData(t._data,t.x,t.y,0,0,t.width,t.height),t._setDataType(t._dataType),t._data=null},applyFilter:function(t,e,n,i,a){var o=this._context.getImageData(this.x+e.x,this.y+e.y,e.width,e.height),r=i.filter(o,e.width,a);this.putPixels(new LRectangle(n.x,n.y,e.width,e.height),r)},getPixel:function(t,e,n){var i,a,o=this;return t>>=0,e>>=0,o._locked||o._ready(),i=4*o.width*e+4*t,a=o._data.data,o._locked||o._update(),"number"==n?a[i]<<16|a[i+1]<<8|a[i+2]:[a[i],a[i+1],a[i+2],a[i+3]]},setPixel:function(t,e,n){var i=this;t>>=0,e>>=0,i._locked||i._ready();var a=i._data,o=4*i.width*e+4*t;a.data[o+3]="object"==typeof n?(a.data[o+0]=n[0],a.data[o+1]=n[1],a.data[o+2]=n[2],n[3]):("string"==typeof n&&(n=parseInt(n.replace("#","0x"))),a.data[o+0]=n>>16&255,a.data[o+1]=n>>8&255,a.data[o+2]=255&n,255),i._locked||i._update()},getPixels:function(t){var e,n=this;return n._locked||n._ready(),e=n._context.getImageData(n.x+t.x,n.y+t.y,t.width,t.height),n._locked||n._update(),e},setPixels:function(t,e){var n,i,a,o,r,s,l=this;if(l._locked||l._ready(),a=l._data,"object"==typeof e)for(o=l._canvas.width,r=t.x;r<t.right;r++)for(s=t.y;s<t.bottom;s++)n=4*o*(l.y+s)+4*(l.x+r),i=4*e.width*(s-t.y)+4*(r-t.x),a.data[n+0]=e.data[i+0],a.data[n+1]=e.data[i+1],a.data[n+2]=e.data[i+2],a.data[n+3]=e.data[i+3];else for("string"==typeof e&&(e=parseInt(e.replace("#","0x"))),e=[e>>16&255,e>>8&255,255&e],o=l._canvas.width,r=t.x;r<t.right;r++)for(s=t.y;s<t.bottom;s++)n=4*o*(l.y+s)+4*(l.x+r),a.data[n+0]=e[0],a.data[n+1]=e[1],a.data[n+2]=e[2],a.data[n+3]=255;l._locked||l._update()},putPixels:function(t,e){this.dataType==f.DATA_CANVAS&&"object"==typeof e&&this._context.putImageData(e,this.x+t.x,this.y+t.y,0,0,t.width,t.height)},lock:function(){this._locked=!0,this._ready()},unlock:function(){this._locked=!1,this._update()},draw:function(t,e,n,i,a){var o,r,s,l,u,c=this,h=t,d=!1,p=c.dataType;c._setDataType(f.DATA_CANVAS),(e||n||i||a)&&(c._context.save(),d=!0),a&&(h instanceof f?(r=h.x,s=h.y):r=s=0,h=new f(h.getDataCanvas(),r+a.x,s+a.y,a.width,a.height,f.DATA_CANVAS)),l=h.getWidth()>>>0,u=h.getHeight()>>>0,0!=l&&0!=u?(o=h.getDataCanvas(),n&&(h.colorTransform(new LRectangle(0,0,l,u),n),o=h.image),e&&c._context.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),i&&(c._context.globalCompositeOperation=i),c._context.drawImage(o,h.x,h.y,l,u,0,0,l,u),d&&c._context.restore(),c._setDataType(p),c.resize()):c._setDataType(p)},getDataCanvas:function(){var t=this.dataType;return this._setDataType(f.DATA_CANVAS),this._setDataType(t),this._canvas},getWidth:function(){return this.width},getHeight:function(){return this.height},resize:function(){var t=this,e=t.image.width-t.x,n=t.image.height-t.y;t.width=t.width<e?t.width:e,t.height=t.height<n?t.height:n},colorTransform:function(t,e){var n=this;if(n.dataType==f.DATA_CANVAS){t.x,t.y,t.width,t.height;for(var i=n._context.getImageData(n.x+t.x,n.y+t.y,t.width,t.height),a=i.data,o=0,r=a.length;o<r;o+=4){var s=o,l=o+1,u=o+2,c=o+3;a[s]=a[s]*e.redMultiplier+e.redOffset,a[l]=a[l]*e.greenMultiplier+e.greenOffset,a[u]=a[u]*e.blueMultiplier+e.blueOffset,a[c]=a[c]*e.alphaMultiplier+e.alphaOffset}n._context.putImageData(i,n.x+t.x,n.y+t.y,0,0,t.width,t.height)}},copyPixels:function(t,e,n){var i,a,o,r,s=t;this.dataType==f.DATA_CANVAS&&(i=s.x,a=s.y,o=s.width,r=s.height,s.setProperties(e.x+s.x,e.y+s.y,e.width,e.height),this._context.drawImage(s.image,s.x,s.y,s.width,s.height,n.x,n.y,s.width,s.height),s.x=i,s.y=a,s.width=o,s.height=r)}};for(var e in t)f.prototype[e]=t[e];return f}(),LBitmapFilter=function(){function t(){LExtends(this,LObject,[]),this.type="LBitmapFilter"}return t.prototype.ll_show=function(t,e){var n=this;if(!n.cacheMaking){e=e||LGlobal.canvas;var i,a=t;i="LBitmap"==a.constructor.name?a.bitmapData:(a._ll_cacheAsBitmap||(n.cacheMaking=!0,a.cacheAsBitmap(!0),n.cacheMaking=!1),a._ll_cacheAsBitmap.bitmapData),n.bitmapDataIndex!==i.objectIndex&&(n.bitmapDataIndex=i.objectIndex,i.applyFilter(i,new LRectangle(0,0,i.width,i.height),new LPoint(0,0),n,e))}},t}(),LDropShadowFilter=function(){function t(t,e,n,i){var a=this;LExtends(a,LBitmapFilter,[]),a.type="LDropShadowFilter",a.distance=t||0,a.angle=e||0,a.shadowColor=n||"#000000",a.shadowBlur=i||20,a.setShadowOffset()}var e={setShadowOffset:function(){var t=this,e=t.angle*Math.PI/180;t.shadowOffsetX=t.distance*Math.cos(e),t.shadowOffsetY=t.distance*Math.sin(e)},ll_show:function(t,e){(e=e||LGlobal.canvas).shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur,e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY},setDistance:function(t){this.distance=t,this.setShadowOffset()},setAngle:function(t){this.angle=t,this.setShadowOffset()},setColor:function(t){this.shadowColor=t},setBlur:function(t){this.shadowBlur=t}};for(var n in e)t.prototype[n]=e[n];return t}(),LColorMatrixFilter=function(){function t(t){LExtends(this,LBitmapFilter,[]),this.type="LColorMatrixFilter",this.matrix=t}var e={filter:function(t,e,n){n=n||LGlobal.canvas;for(var i=t.data,a=n.createImageData(t),o=a.data,r=o.length,s=this.matrix,l=0;l<r;l+=4)o[l]=s[0]*i[l]+s[1]*i[l+1]+s[2]*i[l+2]+s[3]*i[l+3]+s[4],o[l+1]=s[5]*i[l]+s[6]*i[l+1]+s[7]*i[l+2]+s[8]*i[l+3]+s[9],o[l+2]=s[10]*i[l]+s[11]*i[l+1]+s[12]*i[l+2]+s[13]*i[l+3]+s[14],o[l+3]=s[15]*i[l]+s[16]*i[l+1]+s[17]*i[l+2]+s[18]*i[l+3]+s[19];return a}};for(var n in e)t.prototype[n]=e[n];return t}(),LConvolutionFilter=function(){function t(t,e,n,i,a,o,r,s,l){var u=this;LExtends(u,LBitmapFilter,[]),u.type="LConvolutionFilter",u.matrixX=t||0,u.matrixY=e||0,u.matrix=n,i||(i=n.reduce(function(t,e){return t+e})||1),u.divisor=i,u.bias=a||0}var e={filter:function(t,e,n){n=n||LGlobal.canvas;for(var i=t.data,a=n.createImageData(t),o=a.data,r=o.length,s=0;s<r;s++)if((s+1)%4!=0){res=0;for(var l=[i[s-4*e-4]||i[s],i[s-4*e]||i[s],i[s-4*e+4]||i[s],i[s-4]||i[s],i[s],i[s+4]||i[s],i[s+4*e-4]||i[s],i[s+4*e]||i[s],i[s+4*e+4]||i[s]],u=0;u<9;u++)res+=l[u]*this.matrix[u];res/=this.divisor,this.bias&&(res+=this.bias),o[s]=res}else o[s]=i[s];return a}};for(var n in e)t.prototype[n]=e[n];return t}(),LAnimation=function(){function t(t,e,n){var i=this;LExtends(i,LSprite,[]),i.type="LAnimation",i.rowIndex=0,i.colIndex=0,i._ll_stepIndex=0,i._ll_stepArray=[],i.mode=1,i.isMirror=!1,Array.isArray(e)?i.bitmapList=e:i.bitmapList=[e],i.bitmap=new LBitmap(i.bitmapList[0]),i.imageArray=n,i.addChild(i.bitmap),null!=t&&t.addChild(i),i.onframe(),i.colIndex=0}var e={setAction:function(t,e,n,i){var a=this,o=!1;null!=t&&0<=t&&t<a.imageArray.length&&(a.rowIndex=t,o=!0),null!=e&&0<=e&&e<a.imageArray[t].length&&(a.colIndex=e,o=!0),null!=n&&(a.mode=n,o=!0),null!=i&&(a.isMirror=i,a.isMirror?(a.bitmap.x=a.bitmap.getWidth(),a.bitmap.scaleX=-1*Math.abs(a.bitmap.scaleX)):(a.bitmap.x=0,a.bitmap.scaleX=Math.abs(a.bitmap.scaleX)),o=!0),o&&(a._ll_stepIndex=0,a._send_complete=!1)},getAction:function(){return[this.rowIndex,this.colIndex,this.mode,this.isMirror]},onframe:function(){var t,e=this,n=0,a=null;if(e.colIndex>=e.imageArray[e.rowIndex].length&&(e.colIndex=0),t=e.imageArray[e.rowIndex][e.colIndex],a=e._ll_stepArray[e.rowIndex]&&e._ll_stepArray[e.rowIndex][e.colIndex]?e._ll_stepArray[e.rowIndex][e.colIndex]:0,0==e._ll_stepIndex){if("number"==typeof t.dataIndex&&Array.isArray(e.bitmapList)&&t.dataIndex<e.bitmapList.length&&(e.bitmap.bitmapData=e.bitmapList[t.dataIndex]),t.script)for(i=0;i<t.script.length;i++)obj=t.script[i],l=e.ll_labelList[obj.name],l&&l.rowIndex==e.rowIndex&&l.colIndex==e.colIndex&&l.mode==e.mode&&l.isMirror==(-1==e.bitmap.scaleX)&&obj.func(e,obj.params);typeof t.width!=UNDEFINED&&typeof t.height!=UNDEFINED?e.bitmap.bitmapData.setProperties(t.x,t.y,t.width,t.height):e.bitmap.bitmapData.setCoordinate(t.x,t.y),typeof t.sx!=UNDEFINED&&(n=t.sx),typeof t.sy!=UNDEFINED&&(e.bitmap.y=t.sy),typeof t.mirror!=UNDEFINED&&(e.bitmap.rotateCenter=!1,e.bitmap.scaleX=t.mirror?-1:1),e.bitmap.x=n+(1==e.bitmap.scaleX?0:e.bitmap.getWidth())}e._ll_stepIndex++<a||(e._ll_stepIndex=0,e.colIndex+=e.mode,(e.colIndex>=e.imageArray[e.rowIndex].length||e.colIndex<0)&&(e.colIndex=0<e.mode?0:e.imageArray[e.rowIndex].length-1,"LAnimationTimeline"==e.constructor.name?e._send_complete=!0:e.dispatchEvent(LEvent.COMPLETE)))},clone:function(){var t=this,e=new t.constructor(null,t.bitmapList,t.imageArray.slice(0));return e.copyProperty(t),e.childList.length=0,e.bitmap=t.bitmap.clone(),e.addChild(e.bitmap),e}};for(var n in e)t.prototype[n]=e[n];return t}(),LAnimationTimeline=function(){function t(t,e){var n=this;LExtends(n,LAnimation,[null,t,e]),n.type="LAnimationTimeline",n.speed=0,n._speedIndex=0,n.ll_labelList={};for(var i,a,o,r=0;r<e.length;r++)for(i=e[r],a=0;a<i.length;a++)(o=i[a]).label&&n.setLabel(o.label,r,a,1,!!o.isMirror);n.addEventListener(LEvent.ENTER_FRAME,n._ll_onframe)}var e={clone:function(){var t,e,n=this,i=new n.constructor(n.bitmapList,n.imageArray.slice(0));for(t in i.copyProperty(n),i.childList.length=0,i.bitmap=n.bitmap.clone(),i.addChild(i.bitmap),n.ll_labelList)e=n.ll_labelList[t],i.ll_labelList[t]={rowIndex:e.rowIndex,colIndex:e.colIndex,mode:e.mode,isMirror:e.isMirror};return i},setFrameSpeedAt:function(t,e,n){this._ll_stepArray[t]||(this._ll_stepArray[t]=[]),this._ll_stepArray[t][e]=n},_ll_onframe:function(t){var e=t.target;e._ll_stop||e._speedIndex++<e.speed||e._send_complete&&(e.dispatchEvent(LEvent.COMPLETE),e._send_complete=!1,e._ll_stop)||(e._speedIndex=0,e.onframe())},setLabel:function(t,e,n,i,a){this.ll_labelList[t]={rowIndex:e,colIndex:n,mode:typeof i==UNDEFINED?1:i,isMirror:typeof a!=UNDEFINED&&a}},play:function(){this._ll_stop=!1},stop:function(){this._ll_stop=!0},gotoAndPlay:function(t){var e=this.ll_labelList[t];this.setAction(e.rowIndex,e.colIndex,e.mode,e.isMirror),this.play(),this.onframe()},gotoAndStop:function(t){var e=this.ll_labelList[t];this.setAction(e.rowIndex,e.colIndex,e.mode,e.isMirror),this.stop(),this.onframe()},addFrameScript:function(t,e,n){var i=this.ll_labelList[t],a=this.imageArray[i.rowIndex][i.colIndex];a.script||(a.script=[]),a.script.push({func:e,params:n,name:t})},removeFrameScript:function(t){var e,n,i=this.ll_labelList[t];if(e=this.imageArray[i.rowIndex][i.colIndex].script)for(n=0;n<e.length;n++)if(e[n].name==t){e.splice(n,1);break}}};for(var n in e)t.prototype[n]=e[n];return t}(),LLoadManage=function(){function o(){LExtends(this,LEventDispatcher,[]),this.llname="ll.file.",this.llload="ll.load."}for(var t in p={load:function(t,e,n){var i=this;if(!t||0==t.length){var a=new LEvent(LEvent.COMPLETE);return a.currentTarget=i,a.target={},void i.dispatchEvent(a)}i.list=t,i.onupdate=e,i.oncomplete=n,(i.loader=i).index=0,i.loadIndex=0,i.result=[],i.lresult=[],i.loadInit()},loadInit:function(){this.index>=this.list.length||(this.loadIndex=0,this.loadStart())},loadStart:function(){var t,e,n=this;n.loadIndex>=n.list.length||((t=n.list[n.loadIndex]).progress=0,t.name||(t.name=n.llname+n.loadIndex),n.lresult[n.llload+t.name]||(t.type||("txt"==(e=getExtension(t.path))?t.type=LURLLoader.TYPE_TEXT:"js"==e?t.type=LURLLoader.TYPE_JS:0<=new Array("mp3","ogg","wav","m4a").indexOf(e)&&(t.type=LSound.TYPE_SOUND)),t.type==LURLLoader.TYPE_TEXT||t.type==LURLLoader.TYPE_JS?(n.loader=new LURLLoader,(n.loader.parent=n).loader.name=t.name,n.loader.addEventListener(LEvent.PROGRESS,n._loadProgress),n.loader.addEventListener(LEvent.ERROR,n._loadError),n.loader.addEventListener(LEvent.COMPLETE,n._loadComplete),n.loader.load(n.url(t.path),t.type)):t.type==LSound.TYPE_SOUND?(n.loader=new LSound,(n.loader.parent=n).loader.name=t.name,n.loader.addEventListener(LEvent.PROGRESS,n._loadProgress),n.loader.addEventListener(LEvent.ERROR,n._loadError),n.loader.addEventListener(LEvent.COMPLETE,n._loadComplete),n.loader.load(t.path)):t.type==LFontLoader.TYPE_FONT?(n.loader=new LFontLoader,(n.loader.parent=n).loader.name=t.name,n.loader.addEventListener(LEvent.ERROR,n._loadError),n.loader.addEventListener(LEvent.COMPLETE,n._loadComplete),n.loader.load(t.path,t.name)):(n.loader=new LLoader,(n.loader.parent=n).loader.name=t.name,n.loader.addEventListener(LEvent.PROGRESS,n._loadProgress),n.loader.addEventListener(LEvent.ERROR,n._loadError),n.loader.addEventListener(LEvent.COMPLETE,n._loadComplete),n.loader.load(n.url(t.path),LLoader.TYPE_BITMAPDATE,t.useXHR)),n.loader._loadIndex=n.loadIndex),n.loadIndex++,n.loadStart())},_loadProgress:function(t){var e=t.currentTarget,n=e.parent;d=n.list[e._loadIndex],d.progress=t.loaded/t.total;for(var i=0,a=0,o=n.list.length;a<o;a++)i+=n.list[a].progress;var r=new LEvent(LEvent.PROGRESS);r.currentTarget=n,r.target=t.currentTarget,r.loaded=i,r.total=n.list.length,r.responseURL=t.responseURL,n.dispatchEvent(r)},_loadError:function(t){var e=t.currentTarget,n=e.parent;delete e.parent,e.removeEventListener(LEvent.ERROR,n._loadError);var i=new LEvent(LEvent.ERROR);i.currentTarget=n,i.target=t.target,i.responseURL=t.responseURL,n.dispatchEvent(i)},_loadComplete:function(t){var e=t.currentTarget.parent;if(e){if(t&&t.currentTarget.name){if(t.currentTarget.removeEventListener(LEvent.COMPLETE,e._loadComplete),0<=t.currentTarget.name.indexOf(e.llname)&&(t.target=1),e.lresult[e.llload+t.currentTarget.name])return;e.result[t.currentTarget.name]=t.target,e.lresult[e.llload+t.currentTarget.name]=1}if(e.index++,t.loaded=t.total=1,e._loadProgress(t),delete t.currentTarget.parent,e.index>=e.list.length){var n=new LEvent(LEvent.COMPLETE);n.currentTarget=e,n.target=e.result,e.dispatchEvent(n),LGlobal.forceRefresh=!0}}},url:function(t){return LGlobal.traceDebug?t+(0<=t.indexOf("?")?"&":"?")+"t="+(new Date).getTime():t}},p)o.prototype[t]=p[t];return o.load=function(t,e,n,i){var a=new o;e&&a.addEventListener(LEvent.PROGRESS,function(t){e((100*t.loaded/t.total).toFixed(2))}),n&&a.addEventListener(LEvent.COMPLETE,function(t){n(t.target)}),i&&a.addEventListener(LEvent.ERROR,i),a.load(t)},o}(),LEasing={None:{easeIn:function(t,e,n,i){return e+t*n/i},easeOut:function(t,e,n,i){return e+t*n/i},easeInOut:function(t,e,n,i){return e+t*n/i}},Quad:{easeIn:function(t,e,n,i){return n*(t/=i)*t+e},easeOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},Cubic:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}},Quart:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOut:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}},Quint:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}},Sine:{easeIn:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOut:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOut:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}},Strong:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}},Expo:{easeIn:function(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e},easeOut:function(t,e,n,i){return t==i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOut:function(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e}},Circ:{easeIn:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOut:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},Elastic:{easeIn:function(t,e,n,i,a,o){var r;return 0==t?e:1==(t/=i)?e+n:(o||(o=.3*i),r=!a||a<Math.abs(n)?(a=n,o/4):o/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)+e)},easeOut:function(t,e,n,i,a,o){var r;return 0==t?e:1==(t/=i)?e+n:(o||(o=.3*i),r=!a||a<Math.abs(n)?(a=n,o/4):o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*i-r)*(2*Math.PI)/o)+n+e)},easeInOut:function(t,e,n,i,a,o){var r;return 0==t?e:2==(t/=i/2)?e+n:(o||(o=i*(.3*1.5)),r=!a||a<Math.abs(n)?(a=n,o/4):o/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)*.5+n+e)}},Back:{easeIn:function(t,e,n,i,a){return typeof a==UNDEFINED&&(a=1.70158),n*(t/=i)*t*((a+1)*t-a)+e},easeOut:function(t,e,n,i,a){return typeof a==UNDEFINED&&(a=1.70158),n*((t=t/i-1)*t*((a+1)*t+a)+1)+e},easeInOut:function(t,e,n,i,a){return typeof a==UNDEFINED&&(a=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(a*=1.525))*t-a))+e:n/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+e}},Bounce:{easeIn:function(t,e,n,i){return n-LEasing.Bounce.easeOut(i-t,0,n,i)+e},easeOut:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOut:function(t,e,n,i){return t<i/2?.5*LEasing.Bounce.easeIn(2*t,0,n,i)+e:.5*LEasing.Bounce.easeOut(2*t-i,0,n,i)+.5*n+e}}},Quad=LEasing.Quad,Cubic=LEasing.Cubic,Quart=LEasing.Quart,Quint=LEasing.Quint,Sine=LEasing.Sine,Strong=LEasing.Strong,Expo=LEasing.Expo,Circ=LEasing.Circ,Elastic=LEasing.Elastic,Back=LEasing.Back,Bounce=LEasing.Bounce,LTweenLite=function(){function a(t,e,n){LExtends(this,LObject,[]),this.type="LTweenLiteChild",this.toNew=[],this.init(t,e,n)}var t={init:function(t,e,n){var i=this,a=null;for(a in typeof n.tweenTimeline==UNDEFINED&&(n.tweenTimeline=c.TYPE_FRAME),i.target=t,i.duration=e||.001,i.vars=n,i.delay=i.vars.delay||0,i.vars.tweenTimeline==c.TYPE_TIMER?(i.currentTime=(new Date).getTime()/1e3,i.initTime=i.currentTime,i.startTime=i.initTime+i.delay):(i.currentTime=0,i.duration*=1e3,i.currentTime-=1e3*i.delay),i.combinedTimeScale=i.vars.timeScale||1,i.active=0==i.duration&&0==i.delay,i.varsto={},i.varsfrom={},i.varsDiff={},i.varsListIndex={},i.varsListCurr={},i.varsListTo={},i.varsListLength={},i.stop=!1,"function"!=typeof i.vars.ease&&(i.vars.ease=LEasing.None.easeIn),i.ease=i.vars.ease,delete i.vars.ease,i.vars.onComplete&&(i.onComplete=i.vars.onComplete,delete i.vars.onComplete),i.vars.onUpdate&&(i.onUpdate=i.vars.onUpdate,delete i.vars.onUpdate),i.vars.onStart&&(i.onStart=i.vars.onStart,delete i.vars.onStart),i.vars)if("coordinate"==a&&Array.isArray(i.vars[a])){for(var o=0,r={x:i.target.x,y:i.target.y},s=0,l=i.vars[a].length;s<l;s++){var u=i.vars[a][s];o+=LPoint.distance(u,r),r=u}i.varsListIndex[a]=0,i.varsListCurr[a]=0,i.varsListTo[a]=o,i.varsto[a]=i.vars[a],i.varsfrom[a]={x:i.target.x,y:i.target.y}}else"number"==typeof i.vars[a]&&(i.varsto[a]=i.vars[a],i.varsfrom[a]=i.target[a],i.varsDiff[a]=i.vars[a]-i.target[a])},pause:function(){this.stop=!0},resume:function(){this.stop=!1},tween:function(){var t,e=this,n=e.vars.tweenTimeline==c.TYPE_TIMER;if(n){var i=(new Date).getTime()/1e3-e.startTime;if(i<0)return}else{if(e.stop)return;if(e.currentTime+=LGlobal.speed,e.currentTime<0)return}for(u in e.varsto)if(typeof e.varsListTo[u]==UNDEFINED)e.target[u]=e.ease(n?i:e.currentTime,e.varsfrom[u],e.varsDiff[u],e.duration);else{var a=e.ease(n?i:e.currentTime,0,e.varsListTo[u],e.duration);a>e.varsListTo[u]&&(a=e.varsListTo[u]);for(var o=0<e.varsListIndex[u]?e.vars[u][e.varsListIndex[u]-1]:e.varsfrom[u],r=e.vars[u][e.varsListIndex[u]],s=LPoint.distance(o,r);e.varsListCurr[u]+s<a;)e.varsListCurr[u]+=s,o=r,e.varsListIndex[u]++,r=e.vars[u][e.varsListIndex[u]],s=LPoint.distance(o,r);e.target.x=o.x,e.target.y=o.y,0!=s&&r.x-o.x!=0&&(e.target.x+=(r.x-o.x)*(a-e.varsListCurr[u])/s),0!=s&&r.y-o.y!=0&&(e.target.y+=(r.y-o.y)*(a-e.varsListCurr[u])/s)}if(e.onStart&&(e._dispatchEvent(e.onStart),delete e.onStart),n?i>=e.duration:e.currentTime>=e.duration){for(t in e.varsto)if(typeof e.varsListTo[t]==UNDEFINED)e.target[t]=e.varsto[t];else{var l=e.varsto[t][e.vars[t].length-1];e.target.x=l.x,e.target.y=l.y}return e.onComplete&&e._dispatchEvent(e.onComplete),!0}return e.onUpdate&&e._dispatchEvent(e.onUpdate),!1},_dispatchEvent:function(t){var e=this;e.target.target=e.target,t((e.target.currentTarget=e).target),delete e.target.currentTarget,delete e.target.target},to:function(t,e,n,i){return this.toNew.push({target:t,duration:e,vars:n,data:i}),this},keep:function(){var t,e,n,i,a=this;if(0<a.toNew.length){if((t=a.toNew.shift()).vars.loop&&(a.loop=!0),a.loop){for(n in i={},e={},t.vars)e[n]=t.vars[n],typeof t.target[n]!=UNDEFINED&&t.vars.playStyle==c.PlayStyle.Init&&(t.data?t.target[n]=t.data[n]:i[n]=t.target[n]);t.data||(t.data=i),a.to(t.target,t.duration,e,t.data)}return a.init(t.target,t.duration,t.vars),!0}return!1}};for(var u in t)a.prototype[u]=t[u];function c(){LExtends(this,LObject,[]),this.type="LTweenLite",this.tweens=[]}for(var u in c.PlayStyle={None:"none",Init:"init"},c.TYPE_FRAME="type_frame",c.TYPE_TIMER="type_timer",t={count:function(){return this.tweens.length},ll_show:function(){var t,e,n=this,i=n.tweens.length;for(t=0;t<i;t++)(e=n.tweens[t])&&e.tween&&e.tween()&&(n.tweens.splice(t,1),t--,i=n.tweens.length,e.keep()&&n.add(e))},to:function(t,e,n){if(t){var i=new a({},0,{});return this.tweens.push(i),i.to(t,e,n),i}},add:function(t){this.tweens.push(t)},remove:function(t){if(typeof t!=UNDEFINED)for(var e=0,n=this.tweens.length;e<n;e++)if(t.objectIndex==this.tweens[e].objectIndex){this.tweens.splice(e,1);break}},removeAll:function(){this.tweens.splice(0,this.tweens.length)},pauseAll:function(){for(var t=0,e=this.tweens.length;t<e;t++)this.tweens[t].pause()},resumeAll:function(){for(var t=0,e=this.tweens.length;t<e;t++)this.tweens[t].resume()}})c.prototype[u]=t[u];LTweenLiteTimeline=new c,LGlobal.childList.push(LTweenLiteTimeline);var e=new c;return e.TYPE_FRAME=c.TYPE_FRAME,e.TYPE_TIMER=c.TYPE_TIMER,e.PlayStyle=c.PlayStyle,LGlobal.childList.push(e),e}(),LAjax=function(){function t(){this.responseType=null,window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,this.canUseBlob=window.Blob||window.BlobBuilder;var t=location.protocol;this.local=!("http:"==t||"https:"==t)}return t.prototype={TEXT:"text",JSON:"json",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",get:function(t,e,n,i){this.getRequest("GET",t,e,n,i)},post:function(t,e,n,i){this.getRequest("POST",t,e,n,i)},getRequest:function(t,e,n,i,a){var o,r=this,s="",l="";r.err=a;var u=r.getHttp();if(u){if(n)for(o in n)s+=l+o+"="+n[o],l="&";"get"==t.toLowerCase()&&0<s.length&&(e+=(0<=e.indexOf("?")?"&":"?")+s,s=null),u.onerror=function(t){a&&(a(t),a=null)};var c=r.progress;if(r.progress=null,u.addEventListener("progress",function(t){404==t.currentTarget.status?a&&(a(t.currentTarget),a=null):200==t.currentTarget.status&&c&&c(t)},!1),u.open(t,e,!0),r.responseType){if(r.responseType==r.JSON)try{u.responseType=r.responseType}catch(t){u.responseType=r.TEXT,u._responseType="json"}else u.responseType=r.responseType;r.responseType=r.TEXT}u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.onreadystatechange=function(t){var e=t.currentTarget;4==e.readyState&&(200<=e.status&&e.status<300||304===e.status?i&&(e._responseType==r.JSON?(e._responseType=r.TEXT,i(JSON.parse(e.responseText))):e.responseType==r.ARRAY_BUFFER||e.responseType==r.BLOB||e.responseType==r.JSON?i(e.response):0<e.responseText.length?i(e.responseText):i(null)):a&&(a(e),a=null))},u.send(s)}},getHttp:function(){if(typeof XMLHttpRequest!=UNDEFINED)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){this.err||this.err(t)}}return!1}},new t}(),LStageWebView=function(){function e(){var t=this;LExtends(t,LEventDispatcher,[]),t.display=document.createElement("div"),t.iframe=document.createElement("iframe"),t.display.style.position="absolute",t.display.style.marginTop="0px",t.display.style.marginLeft="0px",t.display.style.zIndex=e.START_INDEX++,LGlobal.ios&&(t.display.style.overflow="auto",t.display.style.webkitOverflowScrolling="touch"),t.display.appendChild(t.iframe),t.idAdded=!1}e.START_INDEX=11;var t={loadURL:function(t){var e=this;e.iframe.src=t,e.iframe.onload=function(){e.dispatchEvent(LEvent.COMPLETE)}},show:function(){var t=this;t.idAdded||(LGlobal.object.appendChild(t.display),t.idAdded=!0),"none"==t.display.style.display&&(t.display.style.display="")},die:function(){LGlobal.object.removeChild(this.display),this.idAdded=!1},hide:function(){this.display.style.display="none"},setViewPort:function(t){var e=this,n=parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width,i=parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height;e.display.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+(t.y*i>>>0)+"px",e.display.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+(t.x*n>>>0)+"px",e.iframe.style.width=e.display.style.width=(t.width*n>>>0)+"px",e.iframe.style.height=e.display.style.height=(t.height*i>>>0)+"px"}};for(var n in t)e.prototype[n]=t[n];return e}(),FPS=function(){function t(){var t=this;LExtends(t,LSprite,[]),LGlobal.fpsStatus||(LGlobal.fpsStatus={a:0,b:0,c:0,d:0,e:0,bitmapData:0,display:0,transform:0,graphics:0,text:0,reset:function(){this.a=this.bitmapData,this.b=this.display-1,this.c=this.transform-1,this.d=this.graphics-1,this.e=this.text-5,this.bitmapData=0,this.display=0,this.transform=0,this.graphics=0,this.text=0}}),t.fps=[],t.back=new LShape,t.back.alpha=.5,t.addChild(t.back);for(var e=0;e<5;e++){var n=new LTextField;n.color="#ffffff",n.y=20*e,t.addChild(n),t.fps.push(n)}t.fpsCount=0,t.fpsTime=(new Date).getTime(),t.addEventListener(LEvent.ENTER_FRAME,t.showFPS)}return t.prototype.showFPS=function(t){var e,n,i=t.currentTarget;i.fpsCount++,(e=(new Date).getTime())-i.fpsTime<1e3||(i.fps[0].text="FPS:"+Math.round(1e4*i.fpsCount/(e-i.fpsTime))/10,n=LGlobal.fpsStatus,i.fps[1].text="DisplayObject:"+n.c+"/"+n.b,i.fps[2].text="Draw image:"+n.a,i.fps[3].text="Draw graphics:"+n.d,i.fps[4].text="Draw text:"+n.e,i.fpsTime=e,i.fpsCount=0,i.back.graphics.clear(),i.back.graphics.drawRect(0,"#000000",[0,0,i.fps[1].getWidth(),100],!0,"#000000"))},t.prototype.die=function(){LGlobal.fpsStatus=null,this.callParent("die",arguments)},t}();function LoadingSample4(t,e,n){base(this,LSprite,[]);var i=this;LGlobal.canvas;i.backgroundColor=null==e?"#000000":e,i.graphics.drawRect(1,i.backgroundColor,[0,0,LGlobal.width,LGlobal.height],!0,i.backgroundColor),null==n&&(n="#FFFFFF"),i.arc=new LSprite,i.arc.x=.5*LGlobal.width,i.arc.y=.5*LGlobal.height,i.addChild(i.arc);for(var a=0;a<360;a++)i.arc.graphics.drawArc(1+a/36,n,[0,0,50,2*Math.PI/360*a,2*Math.PI/360*(a+2)]);i.progress=0,i.label=new LTextField,i.label.color=n,i.label.weight="bolder",i.label.size=18,i.label.x=.5*LGlobal.width,i.label.y=.5*LGlobal.height-.5*i.label.getHeight(),i.addChild(i.label);var o=new LDropShadowFilter(0,0,"#FFFFFF",30);i.arc.filters=[o],i.addEventListener(LEvent.ENTER_FRAME,i.onframe),i.setProgress(i.progress)}LoadingSample4.prototype.onframe=function(t){t.target.arc.rotate+=20},LoadingSample4.prototype.setProgress=function(t){100<t&&(t=100),this.progress=t,this.label.text=t+"%",this.label.x=.5*LGlobal.width-.5*this.label.getWidth()};var myVar,loadingLayer,backLayer,itemLayer,firstLayer,startLayer,shapeCover,popLayer,touchTarget,touchScreenX,touchScreenY,conditionParentUntilTrue,disableScroll,baseUrl="./images/",imgData=[{name:"bg",path:baseUrl+"bg.jpg"},{name:"more",path:baseUrl+"more.png"},{name:"pic1",path:baseUrl+"pic_01.png"},{name:"pic2",path:baseUrl+"pic_02.png"},{name:"pic3",path:baseUrl+"pic_03.png"},{name:"pic4",path:baseUrl+"pic_04.png"},{name:"pic5",path:baseUrl+"pic_05.png"},{name:"pic6",path:baseUrl+"pic_06.png"},{name:"pic7",path:baseUrl+"pic_07.png"},{name:"pic8",path:baseUrl+"pic_08.png"},{name:"pop",path:baseUrl+"pop.png"}],dataList={},reels=new Array,dataJosn={},combination=new Array([7,7,7],[2,2,2],[3,3,3],[2,1,4],[3,3,3],[2,4,1],[4,4,4],[5,8,4],[3,3,3],[1,1,1],[4,4,4],[2,6,1],[3,3,3],[5,5,5],[7,7,7],[3,1,2],[7,7,7],[8,8,8],[2,2,2],[3,4,3],[7,8,1],[5,6,3],[3,3,3],[4,4,4],[1,7,6],[2,6,3],[5,5,5],[6,6,6],[5,3,6],[3,3,3],[2,5,7],[6,6,6]);function main(){if(LGlobal.canTouch){LGlobal.stageScale=LStageScaleMode.NO_BORDER,LSystem.screen(LStage.FULL_SCREEN);var t=860*$(window).width()/750;$(".bannercon").css({top:t})}else{LGlobal.stageScale=LStageScaleMode.SHOW_ALL,LSystem.screen(LStage.FULL_SCREEN);var e=$("canvas").width(),n=$("canvas").css("marginLeft");$(".logocon").css({width:e,left:n}),$(".bannercon").css({width:e,left:n});var i=e+parseInt(n)-52+"px";$(".sharecon").css({left:i})}LGlobal.preventDefault=!1,LMouseEventContainer.set(LMouseEvent.MOUSE_DOWN,!1),LMouseEventContainer.set(LMouseEvent.MOUSE_UP,!1),LMouseEventContainer.set(LMouseEvent.MOUSE_MOVE,!1),addChild(backLayer=new LSprite),addChild(firstLayer=new LSprite),addChild(loadingLayer=new LoadingSample4),LLoadManage.load(imgData,function(t){loadingLayer.setProgress(t)},gameInit)}function gameInit(t){dataList=t,removeChild(loadingLayer),loadingLayer=null,bgBitmap=new LBitmap(new LBitmapData(dataList.bg)),backLayer.addChild(bgBitmap),addPlayer()}function addPlayer(){for((itemLayer=new LSprite).x=126,itemLayer.y=356,backLayer.addChild(itemLayer),i=0;i<3;i++){var t=new Reel(combination,i);t.x=25*(2*i+1)+120*i,t.y=0,reels.push(t),itemLayer.addChild(t)}startBtn=new LButton(new LBitmap(new LBitmapData(dataList.more,74,75,174,73))),startBtn.x=285,startBtn.y=745,backLayer.addChild(startBtn),addEvent()}function addEvent(){startBtn.addEventListener(LMouseEvent.MOUSE_UP,onstart),backLayer.addEventListener(LEvent.ENTER_FRAME,onframe)}function onstart(t){backLayer.removeChild(startBtn),endBtn=new LButton(new LBitmap(new LBitmapData(dataList.more,74,0,174,73)),new LBitmap(new LBitmapData(dataList.more,74,0,174,73)),new LBitmap(new LBitmapData(dataList.more,74,0,174,73)),new LBitmap(new LBitmapData(dataList.more,263,0,174,73))),endBtn.x=285,endBtn.y=745,backLayer.addChild(endBtn);for(var e=Math.floor(Math.random()*combination.length),n=0;n<3;n++)reels[n].startReel=!0,reels[n].stopFlag=!1,reels[n].stopNum=e;endBtn.addEventListener(LMouseEvent.MOUSE_UP,onend)}function onend(t){endBtn.setState(LButton.STATE_DISABLE);for(var e=0;e<3;e++)reels[e].stopFlag=!0}function onframe(){var t;for(t=0;t<3;t++)reels[t].onframe()}function openPrize(t){var e,n=0;for(e=0;e<3;e++)reels[e].startReel||n++;if(3<=n){var i;popLayer=new LSprite,backLayer.addChild(popLayer);var a=reels[0].stopNum;i=combination[a][0]==combination[a][1]&&combination[a][0]==combination[a][2]?3:1,shapeCover=new LShape,popLayer.addChild(shapeCover),shapeCover.alpha=0,shapeCover.graphics.drawRect(2,"#000000",[0,0,LGlobal.width,LGlobal.height],!0,"#000000"),redprize=new LBitmap(new LBitmapData(dataList.pop)),redprize.x=0,redprize.y=-900,popLayer.addChild(redprize),dataJosn={activity_id:getQueryString("activity_id"),mobile:getQueryString("mobile"),score:i},console.log(dataJosn),LAjax.get(host+"/api/?c=scores&a=pushgathers",dataJosn,success)}}function success(t){maskback(t=JSON.parse(t))}function maskback(t){LTweenLite.to(shapeCover,.5,{alpha:.5}),LTweenLite.to(redprize,1,{y:100,delay:.6,ease:LEasing.Strong.easeOut,onComplete:function(){label=new LTextField,label.x=340,label.y=440,label.htmlText='<font size="44" color="#ffc724" face="">'+dataJosn.score+'</font><font size="28" color="#fff" face=""> </font>',label.textBaseline="baseline",popLayer.addChild(label),label=new LTextField,label.x=272,label.y=480,label.htmlText='<font size="36" color="#fff" face="">'+t.msg+"</font>",popLayer.addChild(label),shareBtn=new LButton(new LBitmap(new LBitmapData(dataList.more,0,331,170,58)),new LBitmap(new LBitmapData(dataList.more,0,331,170,58))),shareBtn.x=290,shareBtn.y=580,popLayer.addChild(shareBtn),shareBtn.addEventListener(LMouseEvent.MOUSE_DOWN,onshare)}})}function onagain(){popLayer.removeAllChild(),itemLayer.removeChild(popLayer),backLayer.removeChild(itemLayer),backLayer.removeChild(endBtn),againBtn.removeEventListener(LMouseEvent.MOUSE_DOWN,onagain),shareBtn.removeEventListener(LMouseEvent.MOUSE_DOWN,onshare),backLayer.removeEventListener(LEvent.ENTER_FRAME,onframe),startBtn.removeEventListener(LMouseEvent.MOUSE_UP,onstart),endBtn.removeEventListener(LMouseEvent.MOUSE_UP,onend),$("body,html").removeClass("forbid-scroll"),reels=new Array,addPlayer()}function onshare(){window.location.href=addressUrl}function Reel(t,e){base(this,LSprite,[]);var n=this;n.maxSpeed=70,n.minSpeed=10,n.currentNum=1,n.stopNum=0,n.maxNum=8,n.speedUpStep=e+1,n.speedDownStep=e+1,n.combination=t,n.stopFlag=!0,n.currentSpeed=0,n.startReel=!1,n.index=e,n.reels=[],n.indexs=[0,0,0,0],n.reels.push(new LBitmap(n.getReel())),n.reels.push(new LBitmap(n.getReel())),n.reels.push(new LBitmap(n.getReel())),n.reels.push(new LBitmap(n.reels[0].bitmapData));var i,a=0;for(n.reels[0].height=50,n.reels[0].bitmapData.height=n.reels[0].height,n.reels[0].bitmapData.setCoordinate(0,120-n.reels[0].height),n.reels[2].height=50,n.reels[2].bitmapData.height=n.reels[2].height,n.reels[3].visible=!1,i=0;i<n.reels.length;i++)n.reels[i].y=a,a+=n.reels[i].height,n.addChild(n.reels[i])}function ListButton(t,e,n,i,a,o){var r=this;return r.btnUp=new LBitmap(new LBitmapData("#000",0,0,n,i)),r.btn=new LButton(r.btnUp),r.btn.alpha=0,r.btn.x=t,r.btn.y=e,r.btn.name=a,o.addChild(r.btn),r.btn}function txtMenu(t,e,n,i){var a=this;return a.txt=new LTextField,a.txt.size=22,a.txt.setWordWrap(!0,26),a.txt.x=n,a.txt.y=i,a.txt.alpha=.6,a.txt.color="#fff",a.txt.font="",a.txt.text=t,e.addChild(a.txt),a.txt}function MiddleBitmap(t){var e=this;base(e,LSprite,[]),e.bitmapTitle=new LBitmap(t),e.bitmapTitle.x=.5*-e.bitmapTitle.getWidth(),e.bitmapTitle.y=.5*-e.bitmapTitle.getHeight(),e.addChild(e.bitmapTitle)}function BackGround(t,e){var n=this;base(n,LSprite,[]),n.bitmapBG01=new LBitmap(new LBitmapData(t)),n.bitmapBG01.x=.5*-n.bitmapBG01.getWidth(),n.bitmapBG01.y=.5*-n.bitmapBG01.getHeight(),n.addChild(n.bitmapBG01),n.bitmapBG02=new LBitmap(new LBitmapData(e)),n.bitmapBG02.x=.5*-n.bitmapBG02.getWidth(),n.bitmapBG02.y=.5*-n.bitmapBG02.getHeight(),n.addChild(n.bitmapBG02),n.run()}function getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null}function mypop(t,e){$(".ec_pop").remove(),$(".ec_pop").off("click",".close");var n='<div class="ec_pop">            <div class="cover"></div>            <div class="pop_box">            <div class="pop_head"><button type="button" class="close"></button><h4>'+t+'</h4></div>            <div class="pop_body" style="">'+e+"</div>            </div></div>";$("body").append(n),$(".pop_box").addClass("animation-dialogue-in"),$("body,html").addClass("forbid-scroll"),$("body").on("click",function(t){t.stopPropagation()}),$(".ec_pop").on("click",".close",function(t){t.stopPropagation(),$(this).parents(".ec_pop").hide(),$(".pop_box").removeClass("animation-dialogue-in"),$("body,html").removeClass("forbid-scroll")})}Reel.prototype.getReel=function(){var t=this;return t.currentNum>t.maxNum&&(t.currentNum=1),t.indexs[0]=t.currentNum,t.indexs.pop(),t.indexs.unshift(t.currentNum),new LBitmapData(dataList["pic"+t.currentNum++])},Reel.prototype.wheel=function(){var t=this;t.stopFlag?t.currentSpeed>t.minSpeed?t.currentSpeed-=t.speedDownStep:t.currentSpeed=t.minSpeed:t.currentSpeed<t.maxSpeed?t.currentSpeed+=t.speedUpStep:t.currentSpeed=t.maxSpeed,t.stopFlag&&t.currentSpeed<=t.minSpeed&&t.indexs[2]==t.combination[t.stopNum][t.index]&&60<t.reels[1].y+t.currentSpeed&&(t.currentSpeed=60-t.reels[1].y,t.startReel=!1),t.setY(),t.startReel||openPrize(t)},Reel.prototype.setY=function(){var t=this;if(t.reels[1].y+=t.currentSpeed,215<t.reels[1].y+t.reels[1].height&&(t.reels[1].height=220-t.reels[1].y,t.reels[1].bitmapData.height=t.reels[1].height),110<t.reels[1].y?(t.reels[0].height=120,t.reels[0].y=t.reels[1].y-120):(t.reels[0].height=t.reels[1].y,t.reels[0].y=0),t.reels[0].bitmapData.height=t.reels[0].height,t.reels[0].bitmapData.setCoordinate(0,120-t.reels[0].height),t.reels[2].y=t.reels[1].y+t.reels[1].height,220<t.reels[2].y?t.reels[2].visible=!1:220<t.reels[2].y+120?(t.reels[2].height=220-t.reels[2].y,t.reels[2].bitmapData.height=t.reels[2].height):(t.reels[3].y=t.reels[2].y+t.reels[2].height,t.reels[3].y<220&&(t.reels[3].height=220-t.reels[3].y,t.reels[3].bitmapData.height=t.reels[3].height)),0<t.reels[0].y){var e=t.reels.pop();e.bitmapData=t.getReel(),e.visible=!0,t.reels.unshift(e),e.y=0,e.height=t.reels[1].y,e.bitmapData.height=e.height,e.bitmapData.setCoordinate(0,120-e.height)}220<=t.reels[3].y&&(t.reels[3].visible=!1)},Reel.prototype.onframe=function(){this.startReel&&this.wheel()},BackGround.prototype.run=function(){LTweenLite.to(this.bitmapBG02,.5,{alpha:0,ease:Bounce.easeIn,loop:!0}).to(this.bitmapBG02,.5,{alpha:1,ease:Bounce.easeIn})},document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.call("hideToolbar"),WeixinJSBridge.call("hideOptionMenu")}),conditionParentUntilTrue=function(t,e){return t!==document.body&&(!!e(t)||conditionParentUntilTrue(t.parentNode,e))},window.addEventListener("touchstart",function(t){touchTarget=t.targetTouches[0].target,scrollMap={},scrollMap.left=conditionParentUntilTrue(touchTarget,function(t){return 0<t.scrollLeft}),scrollMap.top=conditionParentUntilTrue(touchTarget,function(t){return 0<t.scrollTop}),scrollMap.right=conditionParentUntilTrue(touchTarget,function(t){return t.scrollWidth>t.clientWidth&&t.scrollWidth-t.clientWidth>t.scrollLeft}),scrollMap.bottom=conditionParentUntilTrue(touchTarget,function(t){return t.scrollHeight>t.clientHeight&&t.scrollHeight-t.clientHeight>t.scrollTop}),touchScreenX=t.targetTouches[0].screenX,touchScreenY=t.targetTouches[0].screenY,disableScroll=!1}),window.addEventListener("touchmove",function(t){var e,n;disableScroll?t.preventDefault():(e=t.targetTouches[0].screenX,n=t.targetTouches[0].screenY,touchScreenX<e&&scrollMap.left||n<touchScreenY&&scrollMap.bottom||e<touchScreenX&&scrollMap.right||touchScreenY<n&&scrollMap.top||(t.preventDefault(),disableScroll=!0))}),function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):e(t)}(this,function(DL){var sW,EL=function(){function l(t){return null==t?String(t):G[X.call(t)]||"object"}function r(t){return"function"==l(t)}function o(t){return null!=t&&t==t.window}function s(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function a(t){return"object"==l(t)}function u(t){return a(t)&&!o(t)&&Object.getPrototypeOf(t)==Object.prototype}function c(t){var e=!!t&&"length"in t&&t.length,n=b.type(t);return"function"!=n&&!o(t)&&("array"==n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function h(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function n(t){return t in e?e[t]:e[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function d(t,e){return"number"!=typeof e||D[h(t)]?e:e+"px"}function i(t){return"children"in t?M.call(t.children):b.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function p(t,e){var n,i=t?t.length:0;for(n=0;n<i;n++)this[n]=t[n];this.length=i,this.selector=e||""}function f(t,e){return null==e?b(t):b(t).filter(e)}function v(t,e,n,i){return r(e)?e.call(t,n,i):e}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function L(t,e){var n=t.className||"",i=n&&n.baseVal!==y;return e===y?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function m(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?b.parseJSON(e):e):e}catch(t){return e}}var y,E,b,_,x,w,T=[],S=T.concat,O=T.filter,M=T.slice,I=DL.document,C={},e={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},N=/^\s*<(\w+|!)[^>]*>/,U=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,A=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,R=/^(?:body|html)$/i,P=/([A-Z])/g,B=["val","css","html","text","data","width","height","offset"],t=I.createElement("table"),j=I.createElement("tr"),V={tr:I.createElement("tbody"),tbody:t,thead:t,tfoot:t,td:j,th:j,"*":I.createElement("div")},k=/complete|loaded|interactive/,F=/^[\w-]*$/,G={},X=G.toString,Y={},W=I.createElement("div"),H={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},z=Array.isArray||function(t){return t instanceof Array};return Y.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,a=t.parentNode,o=!a;return o&&(a=W).appendChild(t),i=~Y.qsa(a,e).indexOf(t),o&&W.removeChild(t),i},x=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},w=function(n){return O.call(n,function(t,e){return n.indexOf(t)==e})},Y.fragment=function(t,e,n){var i,a,o;return U.test(t)&&(i=b(I.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(A,"<$1></$2>")),e===y&&(e=N.test(t)&&RegExp.$1),e in V||(e="*"),(o=V[e]).innerHTML=""+t,i=b.each(M.call(o.childNodes),function(){o.removeChild(this)})),u(n)&&(a=b(i),b.each(n,function(t,e){-1<B.indexOf(t)?a[t](e):a.attr(t,e)})),i},Y.Z=function(t,e){return new p(t,e)},Y.isZ=function(t){return t instanceof Y.Z},Y.init=function(t,e){var n,i;if(!t)return Y.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&N.test(t))n=Y.fragment(t,RegExp.$1,e),t=null;else{if(e!==y)return b(e).find(t);n=Y.qsa(I,t)}else{if(r(t))return b(I).ready(t);if(Y.isZ(t))return t;if(z(t))i=t,n=O.call(i,function(t){return null!=t});else if(a(t))n=[t],t=null;else if(N.test(t))n=Y.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==y)return b(e).find(t);n=Y.qsa(I,t)}}return Y.Z(n,t)},(b=function(t,e){return Y.init(t,e)}).extend=function(e){var n,t=M.call(arguments,1);return"boolean"==typeof e&&(n=e,e=t.shift()),t.forEach(function(t){!function t(e,n,i){for(E in n)i&&(u(n[E])||z(n[E]))?(u(n[E])&&!u(e[E])&&(e[E]={}),z(n[E])&&!z(e[E])&&(e[E]=[]),t(e[E],n[E],i)):n[E]!==y&&(e[E]=n[E])}(e,t,n)}),e},Y.qsa=function(t,e){var n,i="#"==e[0],a=!i&&"."==e[0],o=i||a?e.slice(1):e,r=F.test(o);return t.getElementById&&r&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:M.call(r&&!i&&t.getElementsByClassName?a?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},b.contains=I.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},b.type=l,b.isFunction=r,b.isWindow=o,b.isArray=z,b.isPlainObject=u,b.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},b.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},b.inArray=function(t,e,n){return T.indexOf.call(e,t,n)},b.camelCase=x,b.trim=function(t){return null==t?"":String.prototype.trim.call(t)},b.uuid=0,b.support={},b.expr={},b.noop=function(){},b.map=function(t,e){var n,i,a,o,r=[];if(c(t))for(i=0;i<t.length;i++)null!=(n=e(t[i],i))&&r.push(n);else for(a in t)null!=(n=e(t[a],a))&&r.push(n);return 0<(o=r).length?b.fn.concat.apply([],o):o},b.each=function(t,e){var n,i;if(c(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(i in t)if(!1===e.call(t[i],i,t[i]))return t;return t},b.grep=function(t,e){return O.call(t,e)},DL.JSON&&(b.parseJSON=JSON.parse),b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){G["[object "+e+"]"]=e.toLowerCase()}),b.fn={constructor:Y.Z,length:0,forEach:T.forEach,reduce:T.reduce,push:T.push,sort:T.sort,splice:T.splice,indexOf:T.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=Y.isZ(e)?e.toArray():e;return S.apply(Y.isZ(this)?this.toArray():this,n)},map:function(n){return b(b.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return b(M.apply(this,arguments))},ready:function(t){return k.test(I.readyState)&&I.body?t(b):I.addEventListener("DOMContentLoaded",function(){t(b)},!1),this},get:function(t){return t===y?M.call(this):this[0<=t?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return T.every.call(this,function(t,e){return!1!==n.call(t,e,t)}),this},filter:function(e){return r(e)?this.not(this.not(e)):b(O.call(this,function(t){return Y.matches(t,e)}))},add:function(t,e){return b(w(this.concat(b(t,e))))},is:function(t){return 0<this.length&&Y.matches(this[0],t)},not:function(e){var n=[];if(r(e)&&e.call!==y)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):c(e)&&r(e.item)?M.call(e):b(e);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return b(n)},has:function(t){return this.filter(function(){return a(t)?b.contains(this,t):b(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!a(t)?t:b(t)},last:function(){var t=this[this.length-1];return t&&!a(t)?t:b(t)},find:function(t){var n=this;return t?"object"==typeof t?b(t).filter(function(){var e=this;return T.some.call(n,function(t){return b.contains(t,e)})}):1==this.length?b(Y.qsa(this[0],t)):this.map(function(){return Y.qsa(this,t)}):b()},closest:function(n,i){var a=[],o="object"==typeof n&&b(n);return this.each(function(t,e){for(;e&&!(o?0<=o.indexOf(e):Y.matches(e,n));)e=e!==i&&!s(e)&&e.parentNode;e&&a.indexOf(e)<0&&a.push(e)}),b(a)},parents:function(t){for(var e=[],n=this;0<n.length;)n=b.map(n,function(t){return(t=t.parentNode)&&!s(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return f(e,t)},parent:function(t){return f(w(this.pluck("parentNode")),t)},children:function(t){return f(this.map(function(){return i(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||M.call(this.childNodes)})},siblings:function(t){return f(this.map(function(t,e){return O.call(i(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return b.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,C[t]||(e=I.createElement(t),I.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),C[t]=n),C[t]))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(e){var n=r(e);if(this[0]&&!n)var i=b(e).get(0),a=i.parentNode||1<this.length;return this.each(function(t){b(this).wrapAll(n?e.call(this,t):a?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){b(this[0]).before(t=b(t));for(var e;(e=t.children()).length;)t=e.first();b(t).append(this)}return this},wrapInner:function(a){var o=r(a);return this.each(function(t){var e=b(this),n=e.contents(),i=o?a.call(this,t):a;n.length?n.wrapAll(i):e.append(i)})},unwrap:function(){return this.parent().each(function(){b(this).replaceWith(b(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=b(this);(e===y?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(t){return b(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return b(this.pluck("nextElementSibling")).filter(t||"*")},html:function(n){return 0 in arguments?this.each(function(t){var e=this.innerHTML;b(this).empty().append(v(this,n,t,e))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(t){var e=v(this,n,t,this.textContent);this.textContent=null==e?"":""+e}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,n){var t;return"string"!=typeof e||1 in arguments?this.each(function(t){if(1===this.nodeType)if(a(e))for(E in e)g(this,E,e[E]);else g(this,e,v(this,n,t,this.getAttribute(e)))}):0 in this&&1==this[0].nodeType&&null!=(t=this[0].getAttribute(e))?t:y},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){g(this,t)},this)})},prop:function(e,n){return e=H[e]||e,1 in arguments?this.each(function(t){this[e]=v(this,n,t,this[e])}):this[0]&&this[0][e]},removeProp:function(t){return t=H[t]||t,this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(P,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?m(i):y},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each(function(t){this.value=v(this,e,t,this.value)})):this[0]&&(this[0].multiple?b(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(o){if(o)return this.each(function(t){var e=b(this),n=v(this,o,t,e.offset()),i=e.offsetParent().offset(),a={top:n.top-i.top,left:n.left-i.left};"static"==e.css("position")&&(a.position="relative"),e.css(a)});if(!this.length)return null;if(I.documentElement!==this[0]&&!b.contains(I.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+DL.pageXOffset,top:t.top+DL.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,e){if(arguments.length<2){var n=this[0];if("string"==typeof t){if(!n)return;return n.style[x(t)]||getComputedStyle(n,"").getPropertyValue(t)}if(z(t)){if(!n)return;var i={},a=getComputedStyle(n,"");return b.each(t,function(t,e){i[e]=n.style[x(e)]||a.getPropertyValue(e)}),i}}var o="";if("string"==l(t))e||0===e?o=h(t)+":"+d(t,e):this.each(function(){this.style.removeProperty(h(t))});else for(E in t)t[E]||0===t[E]?o+=h(E)+":"+d(E,t[E])+";":this.each(function(){this.style.removeProperty(h(E))});return this.each(function(){this.style.cssText+=";"+o})},index:function(t){return t?this.indexOf(b(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&T.some.call(this,function(t){return this.test(L(t))},n(t))},addClass:function(n){return n?this.each(function(t){if("className"in this){_=[];var e=L(this);v(this,n,t,e).split(/\s+/g).forEach(function(t){b(this).hasClass(t)||_.push(t)},this),_.length&&L(this,e+(e?" ":"")+_.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===y)return L(this,"");_=L(this),v(this,e,t,_).split(/\s+/g).forEach(function(t){_=_.replace(n(t)," ")}),L(this,_.trim())}})},toggleClass:function(n,i){return n?this.each(function(t){var e=b(this);v(this,n,t,L(this)).split(/\s+/g).forEach(function(t){(i===y?!e.hasClass(t):i)?e.addClass(t):e.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===y?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===y?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=R.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(b(t).css("margin-top"))||0,n.left-=parseFloat(b(t).css("margin-left"))||0,i.top+=parseFloat(b(e[0]).css("border-top-width"))||0,i.left+=parseFloat(b(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||I.body;t&&!R.test(t.nodeName)&&"static"==b(t).css("position");)t=t.offsetParent;return t})}},b.fn.detach=b.fn.remove,["width","height"].forEach(function(i){var a=i.replace(/./,function(t){return t[0].toUpperCase()});b.fn[i]=function(e){var t,n=this[0];return e===y?o(n)?n["inner"+a]:s(n)?n.documentElement["scroll"+a]:(t=this.offset())&&t[i]:this.each(function(t){(n=b(this)).css(i,v(this,e,t,n[i]()))})}}),["after","prepend","before","append"].forEach(function(e,r){var s=r%2;b.fn[e]=function(){var n,i,a=b.map(arguments,function(t){var e=[];return"array"==(n=l(t))?(t.forEach(function(t){return t.nodeType!==y?e.push(t):b.zepto.isZ(t)?e=e.concat(t.get()):void(e=e.concat(Y.fragment(t)))}),e):"object"==n||null==t?t:Y.fragment(t)}),o=1<this.length;return a.length<1?this:this.each(function(t,e){i=s?e:e.parentNode,e=0==r?e.nextSibling:1==r?e.firstChild:2==r?e:null;var n=b.contains(I.documentElement,i);a.forEach(function(t){if(o)t=t.cloneNode(!0);else if(!i)return b(t).remove();i.insertBefore(t,e),n&&function t(e,n){n(e);for(var i=0,a=e.childNodes.length;i<a;i++)t(e.childNodes[i],n)}(t,function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var e=t.ownerDocument?t.ownerDocument.defaultView:DL;e.eval.call(e,t.innerHTML)}})})})},b.fn[s?e+"To":"insert"+(r?"Before":"After")]=function(t){return b(t)[e](this),this}}),Y.Z.prototype=p.prototype=b.fn,Y.uniq=w,Y.deserializeValue=m,b.zepto=Y,b}();return DL.Zepto=EL,void 0===DL.$&&(DL.$=EL),function(c){function h(t){return t._zid||(t._zid=e++)}function r(t,e,n,i){if((e=d(e)).ns)var a=(o=e.ns,new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)"));var o;return(_[h(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||a.test(t.ns))&&(!n||h(t.fn)===h(n))&&(!i||t.sel==i)})}function d(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function p(t,e){return t.del&&!n&&t.e in i||!!e}function f(t){return x[t]||n&&i[t]||t}function u(a,t,e,o,r,s,l){var n=h(a),u=_[n]||(_[n]=[]);t.split(/\s/).forEach(function(t){if("ready"==t)return c(document).ready(e);var n=d(t);n.fn=e,n.sel=r,n.e in x&&(e=function(t){var e=t.relatedTarget;return!e||e!==this&&!c.contains(this,e)?n.fn.apply(this,arguments):void 0});var i=(n.del=s)||e;n.proxy=function(t){if(!(t=g(t)).isImmediatePropagationStopped()){t.data=o;var e=i.apply(a,t._args==m?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},n.i=u.length,u.push(n),"addEventListener"in a&&a.addEventListener(f(n.e),n.proxy,p(n,l))})}function v(e,t,n,i,a){var o=h(e);(t||"").split(/\s/).forEach(function(t){r(e,t,n,i).forEach(function(t){delete _[o][t.i],"removeEventListener"in e&&e.removeEventListener(f(t.e),t.proxy,p(t,a))})})}function g(i,a){return(a||!i.isDefaultPrevented)&&(a||(a=i),c.each(t,function(t,e){var n=a[t];i[t]=function(){return this[e]=s,n&&n.apply(a,arguments)},i[e]=w}),i.timeStamp||(i.timeStamp=Date.now()),(a.defaultPrevented!==m?a.defaultPrevented:"returnValue"in a?!1===a.returnValue:a.getPreventDefault&&a.getPreventDefault())&&(i.isDefaultPrevented=s)),i}function L(t){var e,n={originalEvent:t};for(e in t)a.test(e)||t[e]===m||(n[e]=t[e]);return g(n,t)}var m,e=1,y=Array.prototype.slice,E=c.isFunction,b=function(t){return"string"==typeof t},_={},o={},n="onfocusin"in DL,i={focus:"focusin",blur:"focusout"},x={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",c.event={add:u,remove:v},c.proxy=function(t,e){var n=2 in arguments&&y.call(arguments,2);if(E(t)){var i=function(){return t.apply(e,n?n.concat(y.call(arguments)):arguments)};return i._zid=h(t),i}if(b(e))return n?(n.unshift(t[e],t),c.proxy.apply(null,n)):c.proxy(t[e],t);throw new TypeError("expected function")},c.fn.bind=function(t,e,n){return this.on(t,e,n)},c.fn.unbind=function(t,e){return this.off(t,e)},c.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var s=function(){return!0},w=function(){return!1},a=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};c.fn.delegate=function(t,e,n){return this.on(e,t,n)},c.fn.undelegate=function(t,e,n){return this.off(e,t,n)},c.fn.live=function(t,e){return c(document.body).delegate(this.selector,t,e),this},c.fn.die=function(t,e){return c(document.body).undelegate(this.selector,t,e),this},c.fn.on=function(e,a,n,o,r){var s,l,i=this;return e&&!b(e)?(c.each(e,function(t,e){i.on(t,a,n,e,r)}),i):(b(a)||E(o)||!1===o||(o=n,n=a,a=m),(o===m||!1===n)&&(o=n,n=m),!1===o&&(o=w),i.each(function(t,i){r&&(s=function(t){return v(i,t.type,o),o.apply(this,arguments)}),a&&(l=function(t){var e,n=c(t.target).closest(a,i).get(0);return n&&n!==i?(e=c.extend(L(t),{currentTarget:n,liveFired:i}),(s||o).apply(n,[e].concat(y.call(arguments,1)))):void 0}),u(i,e,o,n,a,l||s)}))},c.fn.off=function(t,n,e){var i=this;return t&&!b(t)?(c.each(t,function(t,e){i.off(t,n,e)}),i):(b(n)||E(e)||!1===e||(e=n,n=m),!1===e&&(e=w),i.each(function(){v(this,t,e,n)}))},c.fn.trigger=function(t,e){return(t=b(t)||c.isPlainObject(t)?c.Event(t):g(t))._args=e,this.each(function(){t.type in i&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):c(this).triggerHandler(t,e)})},c.fn.triggerHandler=function(n,i){var a,o;return this.each(function(t,e){(a=L(b(n)?c.Event(n):n))._args=i,a.target=e,c.each(r(e,n.type||n),function(t,e){return o=e.proxy(a),!a.isImmediatePropagationStopped()&&void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){c.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),c.Event=function(t,e){b(t)||(t=(e=t).type);var n=document.createEvent(o[t]||"Events"),i=!0;if(e)for(var a in e)"bubbles"==a?i=!!e[a]:n[a]=e[a];return n.initEvent(t,i,!0),g(n)}}(EL),function(_T){function bU(t,e,n,i){return t.global?(a=e||sU,o=n,r=i,s=_T.Event(o),_T(a).trigger(s,r),!s.isDefaultPrevented()):void 0;var a,o,r,s}function eU(t,e){var n=e.context;return!1!==e.beforeSend.call(n,t,e)&&!1!==bU(e,n,"ajaxBeforeSend",[t,e])&&void bU(e,n,"ajaxSend",[t,e])}function fU(t,e,n,i){var a=n.context,o="success";n.success.call(a,t,o,e),i&&i.resolveWith(a,[t,o,e]),bU(n,a,"ajaxSuccess",[e,n,t]),hU(o,e,n)}function gU(t,e,n,i,a){var o=i.context;i.error.call(o,n,e,t),a&&a.rejectWith(o,[n,e,t]),bU(i,o,"ajaxError",[n,i,t||e]),hU(e,n,i)}function hU(t,e,n){var i,a=n.context;n.complete.call(a,e,t),bU(n,a,"ajaxComplete",[e,n]),(i=n).global&&!--_T.active&&bU(i,null,"ajaxStop")}function jU(){}function lU(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function nU(t,e,n,i){return _T.isFunction(e)&&(i=n,n=e,e=void 0),_T.isFunction(n)||(i=n,n=void 0),{url:t,data:e,success:n,dataType:i}}var pU,qU,rU=+new Date,sU=DL.document,tU=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,uU=/^(?:text|application)\/javascript/i,vU=/^(?:text|application)\/xml/i,wU="application/json",xU="text/html",yU=/^\s*$/,zU=sU.createElement("a");zU.href=DL.location.href,_T.active=0,_T.ajaxJSONP=function(n,i){if(!("type"in n))return _T.ajax(n);var a,o,t=n.jsonpCallback,r=(_T.isFunction(t)?t():t)||"Zepto"+rU++,s=sU.createElement("script"),l=DL[r],e=function(t){_T(s).triggerHandler("error",t||"abort")},u={abort:e};return i&&i.promise(u),_T(s).on("load error",function(t,e){clearTimeout(o),_T(s).off().remove(),"error"!=t.type&&a?fU(a[0],u,n,i):gU(null,e||"error",u,n,i),DL[r]=l,a&&_T.isFunction(l)&&l(a[0]),l=a=void 0}),!1===eU(u,n)?e("abort"):(DL[r]=function(){a=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+r),sU.head.appendChild(s),0<n.timeout&&(o=setTimeout(function(){e("timeout")},n.timeout))),u},_T.ajaxSettings={type:"GET",beforeSend:jU,success:jU,error:jU,complete:jU,context:null,global:!0,xhr:function(){return new DL.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:wU,xml:"application/xml, text/xml",html:xU,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:jU},_T.ajax=function(KV){var LV,MV,jV,JU,NV=_T.extend({},KV||{}),OV=_T.Deferred&&_T.Deferred();for(pU in _T.ajaxSettings)void 0===NV[pU]&&(NV[pU]=_T.ajaxSettings[pU]);(JU=NV).global&&0==_T.active++&&bU(JU,null,"ajaxStart"),NV.crossDomain||((LV=sU.createElement("a")).href=NV.url,LV.href=LV.href,NV.crossDomain=zU.protocol+"//"+zU.host!=LV.protocol+"//"+LV.host),NV.url||(NV.url=DL.location.toString()),-1<(MV=NV.url.indexOf("#"))&&(NV.url=NV.url.slice(0,MV)),(jV=NV).processData&&jV.data&&"string"!=_T.type(jV.data)&&(jV.data=_T.param(jV.data,jV.traditional)),!jV.data||jV.type&&"GET"!=jV.type.toUpperCase()&&"jsonp"!=jV.dataType||(jV.url=lU(jV.url,jV.data),jV.data=void 0);var PV=NV.dataType,QV=/\?.+=\?/.test(NV.url);if(QV&&(PV="jsonp"),!1!==NV.cache&&(KV&&!0===KV.cache||"script"!=PV&&"jsonp"!=PV)||(NV.url=lU(NV.url,"_="+Date.now())),"jsonp"==PV)return QV||(NV.url=lU(NV.url,NV.jsonp?NV.jsonp+"=?":!1===NV.jsonp?"":"callback=?")),_T.ajaxJSONP(NV,OV);var RV,SV=NV.accepts[PV],TV={},UV=function(t,e){TV[t.toLowerCase()]=[t,e]},VV=/^([\w-]+:)\/\//.test(NV.url)?RegExp.$1:DL.location.protocol,WV=NV.xhr(),XV=WV.setRequestHeader;if(OV&&OV.promise(WV),NV.crossDomain||UV("X-Requested-With","XMLHttpRequest"),UV("Accept",SV||"*/*"),(SV=NV.mimeType||SV)&&(-1<SV.indexOf(",")&&(SV=SV.split(",",2)[0]),WV.overrideMimeType&&WV.overrideMimeType(SV)),(NV.contentType||!1!==NV.contentType&&NV.data&&"GET"!=NV.type.toUpperCase())&&UV("Content-Type",NV.contentType||"application/x-www-form-urlencoded"),NV.headers)for(qU in NV.headers)UV(qU,NV.headers[qU]);if(WV.setRequestHeader=UV,!(WV.onreadystatechange=function(){if(4==WV.readyState){WV.onreadystatechange=jU,clearTimeout(RV);var _V,aW=!1;if(200<=WV.status&&WV.status<300||304==WV.status||0==WV.status&&"file:"==VV){if(PV=PV||((gV=NV.mimeType||WV.getResponseHeader("content-type"))&&(gV=gV.split(";",2)[0]),gV&&(gV==xU?"html":gV==wU?"json":uU.test(gV)?"script":vU.test(gV)&&"xml")||"text"),"arraybuffer"==WV.responseType||"blob"==WV.responseType)_V=WV.response;else{_V=WV.responseText;try{_V=function(t,e,n){if(n.dataFilter==jU)return t;var i=n.context;return n.dataFilter.call(i,t,e)}(_V,PV,NV),"script"==PV?eval(_V):"xml"==PV?_V=WV.responseXML:"json"==PV&&(_V=yU.test(_V)?null:_T.parseJSON(_V))}catch(t){aW=t}if(aW)return gU(aW,"parsererror",WV,NV,OV)}fU(_V,WV,NV,OV)}else gU(WV.statusText||null,WV.status?"error":"abort",WV,NV,OV)}var gV})===eU(WV,NV))return WV.abort(),gU(null,"abort",WV,NV,OV),WV;var YV=!("async"in NV)||NV.async;if(WV.open(NV.type,NV.url,YV,NV.username,NV.password),NV.xhrFields)for(qU in NV.xhrFields)WV[qU]=NV.xhrFields[qU];for(qU in TV)XV.apply(WV,TV[qU]);return 0<NV.timeout&&(RV=setTimeout(function(){WV.onreadystatechange=jU,WV.abort(),gU(null,"timeout",WV,NV,OV)},NV.timeout)),WV.send(NV.data?NV.data:null),WV},_T.get=function(){return _T.ajax(nU.apply(null,arguments))},_T.post=function(){var t=nU.apply(null,arguments);return t.type="POST",_T.ajax(t)},_T.getJSON=function(){var t=nU.apply(null,arguments);return t.dataType="json",_T.ajax(t)},_T.fn.load=function(t,e,n){if(!this.length)return this;var i,a=this,o=t.split(/\s/),r=nU(t,e,n),s=r.success;return 1<o.length&&(r.url=o[0],i=o[1]),r.success=function(t){a.html(i?_T("<div>").html(t.replace(tU,"")).find(i):t),s&&s.apply(a,arguments)},_T.ajax(r),this};var AU=encodeURIComponent;_T.param=function(t,e){var n=[];return n.add=function(t,e){_T.isFunction(e)&&(e=e()),null==e&&(e=""),this.push(AU(t)+"="+AU(e))},function n(i,t,a,o){var r,s=_T.isArray(t),l=_T.isPlainObject(t);_T.each(t,function(t,e){r=_T.type(e),o&&(t=a?o:o+"["+(l||"object"==r||"array"==r?t:"")+"]"),!o&&s?i.add(e.name,e.value):"array"==r||!a&&"object"==r?n(i,e,a,t):i.add(t,e)})}(n,t,e),n.join("&").replace(/%20/g,"+")}}(EL),(sW=EL).fn.serializeArray=function(){var n,i,e=[],a=function(t){return t.forEach?t.forEach(a):void e.push({name:n,value:t})};return this[0]&&sW.each(this[0].elements,function(t,e){i=e.type,(n=e.name)&&"fieldset"!=e.nodeName.toLowerCase()&&!e.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||e.checked)&&a(sW(e).val())}),e},sW.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},sW.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var e=sW.Event("submit");this.eq(0).trigger(e),e.isDefaultPrevented()||this.get(0).submit()}return this},function(){try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;DL.getComputedStyle=function(t,e){try{return n(t,e)}catch(t){return null}}}}(),EL});